{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { Audio } from 'expo-av';\nimport { auth, firebase } from \"../Firebase/Config\";\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc, getDoc, updateDoc, arrayUnion, FieldValue } from \"@firebase/firestore\";\nimport Pass from \"./Pass\";\nimport { createUserWithEmailAndPassword } from '@firebase/auth';\nimport { sqrt } from 'react-native-reanimated';\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Scanner = function Scanner(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    userinformation = _route$params.userinformation,\n    teacherid = _route$params.teacherid,\n    coursename = _route$params.coursename,\n    classid = _route$params.classid,\n    teacher = _route$params.teacher,\n    Selectedclassdestination = _route$params.Selectedclassdestination,\n    youcangetpass = _route$params.youcangetpass,\n    section = _route$params.section,\n    currentlocation = _route$params.currentlocation,\n    school = _route$params.school,\n    state = _route$params.state,\n    town = _route$params.town,\n    locationdestination = _route$params.locationdestination,\n    firstname = _route$params.firstname,\n    lastname = _route$params.lastname,\n    ledby = _route$params.ledby,\n    drinkofwater = _route$params.drinkofwater,\n    exclusivetime = _route$params.exclusivetime,\n    donewithworkpass = _route$params.donewithworkpass,\n    currentsessionid = _route$params.currentsessionid,\n    bathroomtime = _route$params.bathroomtime,\n    nonbathroomtime = _route$params.nonbathroomtime,\n    bathroompassinuse = _route$params.bathroompassinuse,\n    totalinlineforbathroom = _route$params.totalinlineforbathroom,\n    id = _route$params.id,\n    passid = _route$params.passid,\n    teacheridforreturn = _route$params.teacheridforreturn,\n    maxstudentsonphonepass = _route$params.maxstudentsonphonepass,\n    newlocation = _route$params.newlocation,\n    timeallowed = _route$params.timeallowed,\n    adjustmentandoverunder = _route$params.adjustmentandoverunder,\n    total2 = _route$params.total2,\n    getcurrentdifference = _route$params.getcurrentdifference,\n    day = _route$params.day,\n    leftclass2 = _route$params.leftclass2,\n    expectedreturn2 = _route$params.expectedreturn2,\n    endofclasssession = _route$params.endofclasssession,\n    currentdateend = _route$params.currentdateend;\n\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    leavetimeGlobal = _useState2[0],\n    setLeavetimeGlobal = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    returntimeGlobal = _useState4[0],\n    setReturntimeGlobal = _useState4[1];\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    sound = _React$useState2[0],\n    setSound = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    eligible = _React$useState4[0],\n    setEligible = _React$useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hasPermission = _useState6[0],\n    setHasPermission = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    scanned = _useState8[0],\n    setScanned = _useState8[1];\n  var _useState9 = useState('Not yet scanned'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    text = _useState10[0],\n    setText = _useState10[1];\n  var _useState11 = useState(),\n    _useState12 = _slicedToArray(_useState11, 2),\n    leftclass = _useState12[0],\n    setLeftclass = _useState12[1];\n  var _useState13 = useState(),\n    _useState14 = _slicedToArray(_useState13, 2),\n    expectedreturn = _useState14[0],\n    setExpectedreturn = _useState14[1];\n  var _useState15 = useState(),\n    _useState16 = _slicedToArray(_useState15, 2),\n    howmanypeople = _useState16[0],\n    setHowmanypeople = _useState16[1];\n  var _useState17 = useState(),\n    _useState18 = _slicedToArray(_useState17, 2),\n    howmanypeople2 = _useState18[0],\n    setHowmanypeople2 = _useState18[1];\n  var _useState19 = useState(),\n    _useState20 = _slicedToArray(_useState19, 2),\n    takenameoffwaitlist = _useState20[0],\n    setTakenameoffwaitlist = _useState20[1];\n  var _useState21 = useState(),\n    _useState22 = _slicedToArray(_useState21, 2),\n    phonehowmanypeople = _useState22[0],\n    setPhonehowmanypeople = _useState22[1];\n  var _useState23 = useState(),\n    _useState24 = _slicedToArray(_useState23, 2),\n    phonehowmanypeople2 = _useState24[0],\n    setPhonehowmanypeople2 = _useState24[1];\n  var _useState25 = useState(),\n    _useState26 = _slicedToArray(_useState25, 2),\n    phonetakenameoffwaitlist = _useState26[0],\n    setPhonetakenameoffwaitlist = _useState26[1];\n  var _useState27 = useState(),\n    _useState28 = _slicedToArray(_useState27, 2),\n    rightnow = _useState28[0],\n    setRightnow = _useState28[1];\n  var _useState29 = useState(),\n    _useState30 = _slicedToArray(_useState29, 2),\n    ontime = _useState30[0],\n    setOntime = _useState30[1];\n  var _useState31 = useState(),\n    _useState32 = _slicedToArray(_useState31, 2),\n    adjust = _useState32[0],\n    setAdjust = _useState32[1];\n  var _useState33 = useState(),\n    _useState34 = _slicedToArray(_useState33, 2),\n    levell = _useState34[0],\n    setLevell = _useState34[1];\n  var _useState35 = useState(),\n    _useState36 = _slicedToArray(_useState35, 2),\n    overunderr = _useState36[0],\n    setOverunderr = _useState36[1];\n  var _useState37 = useState(),\n    _useState38 = _slicedToArray(_useState37, 2),\n    penaltyminutes = _useState38[0],\n    setPenaltyminutes = _useState38[1];\n  var _useState39 = useState(),\n    _useState40 = _slicedToArray(_useState39, 2),\n    allottedtime = _useState40[0],\n    setAllottedtime = _useState40[1];\n  var _useState41 = useState(),\n    _useState42 = _slicedToArray(_useState41, 2),\n    realtimeleave = _useState42[0],\n    setRealtimeleave = _useState42[1];\n  var _useState43 = useState(),\n    _useState44 = _slicedToArray(_useState43, 2),\n    currentdate = _useState44[0],\n    setCurrentdate = _useState44[1];\n  var _useState45 = useState(),\n    _useState46 = _slicedToArray(_useState45, 2),\n    completed = _useState46[0],\n    setCompleted = _useState46[1];\n  var _useState47 = useState(),\n    _useState48 = _slicedToArray(_useState47, 2),\n    completed2 = _useState48[0],\n    setCompleted2 = _useState48[1];\n  var _useState49 = useState(),\n    _useState50 = _slicedToArray(_useState49, 2),\n    currenttime = _useState50[0],\n    setCurrenttiime = _useState50[1];\n  var _useState51 = useState(),\n    _useState52 = _slicedToArray(_useState51, 2),\n    giveshortcut = _useState52[0],\n    setGiveshortcut = _useState52[1];\n  console.log(teacherid, teacheridforreturn, \"teacherid\", \"teacheridforreturn\", \"In Scanner\");\n  useEffect(function () {\n    if (id && classid && typeof day != \"undefined\") {\n      setCurrenttiime(Date.now());\n      getadjustment();\n      checkDatabaseData2();\n      setExpectedreturn(expectedreturn2);\n    }\n  }, [day, expectedreturn2]);\n  useEffect(function () {\n    console.log(\"14Did it get this far? \");\n    setText(\"Not yet scanned\");\n    setScanned(false);\n  }, [day]);\n  var getadjustment = function getadjustment() {\n    console.log(\"5Did it get this far? \");\n    if (id && classid) {\n      console.log(\"6Did it get this far? \");\n      var docRef = doc(firebase, \"users\", id);\n      var docData = getDoc(docRef).then(function (docSnap) {\n        var idd = classid;\n        var object = docSnap.data();\n        if (typeof object[idd] != \"undefined\") {\n          var whatever = object[idd].adjustments;\n          var _penaltyminutes = object[idd].penaltyminutes;\n          var ovunder = object[idd].overunder;\n          var level = object[idd].level;\n          setAdjust(whatever);\n          setPenaltyminutes(_penaltyminutes);\n          setOverunderr(ovunder);\n          setLevell(level);\n        } else {\n          setAdjust(0);\n          setPenaltyminutes(0);\n          setOverunderr(0);\n          setLevell(\"Consequences For Lateness\");\n        }\n      });\n    }\n  };\n  function checkDatabaseData2() {\n    return _checkDatabaseData.apply(this, arguments);\n  }\n  function _checkDatabaseData() {\n    _checkDatabaseData = _asyncToGenerator(function* () {\n      console.log(\"12Did it get this far? \");\n      var docRef = doc(firebase, \"classesbeingtaught\", classid);\n      var docSnap = yield getDoc(docRef);\n      if (docSnap.exists()) {\n        setHowmanypeople2(docSnap.data().inusebathroompass);\n        setPhonehowmanypeople2(docSnap.data().inuseexclusivephonepass);\n      } else {\n      }\n    });\n    return _checkDatabaseData.apply(this, arguments);\n  }\n  ;\n  useEffect(function () {\n    console.log(expectedreturn, \"expectedreturn\", currenttime, \"currenttime\", \"10Did it get this far? \");\n    if (expectedreturn > 10) {\n      console.log(\"10Did it get this far? \");\n      if (currenttime < expectedreturn) {\n        console.log(\"22this was run\");\n        setOntime(true);\n      } else {\n        console.log(\"23this was run\");\n        setOntime(false);\n      }\n    }\n  }, [currenttime]);\n  useEffect(function () {\n    console.log(currentdate, \"currentdate\");\n    if (typeof currentdate != \"undefined\" && locationdestination == \"Break From Work Pass\") {\n      if (text == teacheridforreturn && scanned) {\n        returnmakephonepass();\n      } else {\n        setText('Not yet scanned');\n        setScanned(false);\n        Alert(\"You have scanned the wrong @RCode1\");\n      }\n    } else if (typeof currentdate != \"undefined\" && locationdestination != \"Break From Work Pass\") {\n      if (text == teacheridforreturn && scanned) {\n        returnfinalizehallpass();\n      } else {\n        setText('Not yet scanned');\n        setScanned(false);\n        Alert(\"You have scanned the wrong @RCode2\");\n      }\n    } else {\n      if (leavetimeGlobal) {\n        console.log(\"1was this run?\", text, scanned, ontime, \"expectedreturn2, ontime, text, scanned,\");\n\n        var formatAMPM = function formatAMPM() {\n          var hours = leavetimeGlobal.getHours();\n          var minutes = leavetimeGlobal.getMinutes();\n          var ampm = hours >= 12 ? 'pm' : 'am';\n          hours = hours % 12;\n          hours = hours ? hours : 12;\n          minutes = minutes.toString().padStart(2, '0');\n          var strTime = hours + ':' + minutes + ' ' + ampm;\n          return strTime;\n        };\n        var p = formatAMPM(leavetimeGlobal);\n        setRealtimeleave(p);\n        setCurrentdate(leavetimeGlobal.getMonth() + 1 + \"/\" + leavetimeGlobal.getDate() + \"/\" + leavetimeGlobal.getFullYear());\n      }\n    }\n  }, [leavetimeGlobal]);\n  useEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft() {\n        return _jsx(Pressable, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Passisready\", {\n              userinformation: userinformation,\n              teacherid: teacherid,\n              coursename: coursename,\n              classid: classid,\n              teacher: teacher,\n              Selectedclassdestination: Selectedclassdestination,\n              youcangetpass: youcangetpass,\n              section: section,\n              currentlocation: currentlocation,\n              school: school,\n              state: state,\n              town: town,\n              locationdestination: locationdestination,\n              firstname: firstname,\n              lastname: lastname,\n              ledby: ledby,\n              drinkofwater: drinkofwater,\n              exclusivetime: exclusivetime,\n              donewithworkpass: donewithworkpass,\n              bathroomtime: bathroomtime,\n              currentsessionid: currentsessionid,\n              bathroomtime: bathroomtime,\n              nonbathroomtime: nonbathroomtime,\n              bathroompassinuse: bathroompassinuse,\n              totalinlineforbathroom: totalinlineforbathroom,\n              id: id,\n              passid: passid,\n              teacheridforreturn: teacheridforreturn,\n              maxstudentsonphonepass: maxstudentsonphonepass,\n              newlocation: newlocation,\n              timeallowed: timeallowed,\n              adjustmentandoverunder: adjustmentandoverunder,\n              total2: total2,\n              getcurrentdifference: getcurrentdifference,\n              endofclasssession: endofclasssession\n            });\n          },\n          children: _jsx(Text, {\n            accessibilityLabel: \"Guest\",\n            style: styles.error5,\n            children: \"Instructions\"\n          })\n        });\n      }\n    });\n  }, []);\n  useEffect(function () {\n    console.log(\"2was this run?\", text, scanned, ontime, \"expectedreturn2, ontime, text, scanned,\");\n    if (locationdestination == \"Bathroom\") {\n      setAllottedtime(bathroomtime);\n    } else if (locationdestination == \"Get Drink of Water\") {\n      setAllottedtime(drinkofwater);\n    } else {\n      setAllottedtime(nonbathroomtime);\n    }\n  }, []);\n  useEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft() {\n        return _jsx(Pressable, {\n          children: _jsx(Text, {\n            accessibilityLabel: \"Guest\",\n            style: styles.error\n          })\n        });\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if (typeof classid != \"undefined\") {\n      checkDatabaseData();\n    }\n  }, []);\n  useEffect(function () {\n    console.log(completed, \"completed\", day, \"day\");\n    if (typeof completed != \"undefined\" && typeof day == \"undefined\") {\n      navigation.navigate(\"Pass\", {\n        teacherid: teacherid,\n        coursename: coursename,\n        classid: classid,\n        teacher: teacher,\n        Selectedclassdestination: Selectedclassdestination,\n        youcangetpass: youcangetpass,\n        section: section,\n        currentlocation: currentlocation,\n        school: school,\n        state: state,\n        town: town,\n        locationdestination: locationdestination,\n        firstname: firstname,\n        lastname: lastname,\n        teacherid: teacherid,\n        coursename: coursename,\n        Selectedclassdestination: Selectedclassdestination,\n        ledby: ledby,\n        drinkofwater: drinkofwater,\n        exclusivetime: exclusivetime,\n        donewithworkpass: donewithworkpass,\n        bathroomtime: bathroomtime,\n        nonbathroomtime: nonbathroomtime,\n        bathroompassinuse: bathroompassinuse,\n        currentsessionid: currentsessionid,\n        id: id,\n        passid: passid,\n        teacheridforreturn: teacheridforreturn,\n        leftclass: leftclass,\n        expectedreturn: expectedreturn,\n        maxstudentsonphonepass: maxstudentsonphonepass,\n        newlocation: newlocation,\n        timeallowed: timeallowed,\n        adjustmentandoverunder: adjustmentandoverunder,\n        total2: total2,\n        getcurrentdifference: getcurrentdifference,\n        rightnow: rightnow,\n        currentdate: currentdate,\n        realtimeleave: realtimeleave,\n        endofclasssession: endofclasssession\n      });\n    } else if (typeof completed2 != \"undefined\" && typeof day != \"undefined\") {\n      navigation.navigate(\"Mainmenustudent\", {\n        teacherid: teacherid,\n        coursename: coursename,\n        classid: classid,\n        teacher: teacher,\n        Selectedclassdestination: Selectedclassdestination,\n        youcangetpass: youcangetpass,\n        section: section,\n        currentlocation: currentlocation,\n        school: school,\n        state: state,\n        town: town,\n        locationdestination: locationdestination,\n        firstname: firstname,\n        lastname: lastname,\n        teacherid: teacherid,\n        coursename: coursename,\n        Selectedclassdestination: Selectedclassdestination,\n        ledby: ledby,\n        drinkofwater: drinkofwater,\n        exclusivetime: exclusivetime,\n        donewithworkpass: donewithworkpass,\n        bathroomtime: bathroomtime,\n        nonbathroomtime: nonbathroomtime,\n        bathroompassinuse: bathroompassinuse,\n        currentsessionid: currentsessionid,\n        id: id,\n        passid: passid,\n        teacheridforreturn: teacheridforreturn,\n        leftclass: leftclass,\n        expectedreturn: expectedreturn,\n        maxstudentsonphonepass: maxstudentsonphonepass,\n        newlocation: newlocation,\n        timeallowed: timeallowed,\n        adjustmentandoverunder: adjustmentandoverunder,\n        total2: total2,\n        getcurrentdifference: getcurrentdifference,\n        rightnow: rightnow,\n        currentdate: currentdate,\n        realtimeleave: realtimeleave,\n        day: day\n      });\n    } else {\n      console.log(\"nowhere to go\");\n    }\n  }, [completed, completed2]);\n  function checkDatabaseData() {\n    return _checkDatabaseData2.apply(this, arguments);\n  }\n  function _checkDatabaseData2() {\n    _checkDatabaseData2 = _asyncToGenerator(function* () {\n      console.log(\"5was this run?\");\n      var docRef = doc(firebase, \"classesbeingtaught\", classid);\n      var docSnap = yield getDoc(docRef);\n      if (docSnap.exists()) {\n        setHowmanypeople(docSnap.data().inusebathroompass);\n        setPhonehowmanypeople(docSnap.data().inuseexclusivephonepass);\n        setTakenameoffwaitlist(docSnap.data().totalinlineforbathroom);\n        setPhonetakenameoffwaitlist(docSnap.data().totalinlineforexclusivephone);\n        setGiveshortcut(docSnap.data().removescanneraddbutton);\n      } else {\n        console.log(\"No such document!\");\n      }\n    });\n    return _checkDatabaseData2.apply(this, arguments);\n  }\n\n  var developmentshortcut = function developmentshortcut() {\n    console.log(teacherid, \"teacherid this should be the same as the text\");\n    var r = new Date();\n    var s = Date.now();\n    setRightnow(s);\n    setLeavetimeGlobal(r);\n    setLeftclass(s);\n    setScanned(true);\n    if (typeof day != \"undefined\") {\n      setText(teacheridforreturn);\n    } else {\n      setText(teacherid);\n    }\n  };\n  useEffect(function () {\n    return sound ? function () {\n      sound.unloadAsync();\n    } : undefined;\n  }, [sound]);\n  function playSound() {\n    return _playSound.apply(this, arguments);\n  }\n  function _playSound() {\n    _playSound = _asyncToGenerator(function* () {\n      var _yield$Audio$Sound$cr = yield Audio.Sound.createAsync(require(\"../../assets/Confirm.mp3\")),\n        sound = _yield$Audio$Sound$cr.sound;\n      setSound(sound);\n      yield sound.playAsync();\n    });\n    return _playSound.apply(this, arguments);\n  }\n  function finalizehallpass() {\n    return _finalizehallpass.apply(this, arguments);\n  }\n  function _finalizehallpass() {\n    _finalizehallpass = _asyncToGenerator(function* () {\n      setGiveshortcut(false);\n      console.log(\"hallpass ran ?\");\n      var expected = rightnow + allottedtime * 60000;\n      if (classid && passid && locationdestination == \"Bathroom\") {\n        yield updateDoc(doc(firebase, \"passes\", passid), {\n          leftclass: rightnow,\n          timeleftclass: leavetimeGlobal.toLocaleTimeString([], {\n            hour12: true\n          }),\n          whenlimitwillbereached: expected,\n          placeinline: null,\n          passdetailrightnow: rightnow,\n          passdetailcurrentdate: currentdate,\n          passdetailrealtimeleave: realtimeleave\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n        yield updateDoc(doc(firebase, \"users\", id), {\n          status: \"On Pass\"\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n        yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n          inusebathroompass: howmanypeople + 1,\n          totalinlineforbathroom: takenameoffwaitlist - 1,\n          removescanneraddbutton: false\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }).then(_asyncToGenerator(function* () {\n          setExpectedreturn(rightnow + allottedtime * 60000);\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted(true);\n        }));\n      } else if (classid && passid && locationdestination != \"Bathroom\") {\n        yield updateDoc(doc(firebase, \"passes\", passid), {\n          leftclass: rightnow,\n          timeleftclass: leavetimeGlobal.toLocaleTimeString([], {\n            hour12: true\n          }),\n          whenlimitwillbereached: expected,\n          placeinline: null,\n          passdetailrightnow: rightnow,\n          passdetailcurrentdate: currentdate,\n          passdetailrealtimeleave: realtimeleave\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n        yield updateDoc(doc(firebase, \"users\", id), {\n          status: \"On Pass\"\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }).then(_asyncToGenerator(function* () {\n          setExpectedreturn(expected);\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted(true);\n        }));\n      } else {\n        setExpectedreturn(expected);\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n        setCompleted(true);\n      }\n    });\n    return _finalizehallpass.apply(this, arguments);\n  }\n  function makephonepass() {\n    return _makephonepass.apply(this, arguments);\n  }\n  function _makephonepass() {\n    _makephonepass = _asyncToGenerator(function* () {\n      setGiveshortcut(false);\n      console.log(\"phone pass ran\");\n      var expected = rightnow + exclusivetime * 60000;\n      if (classid && passid) {\n        yield updateDoc(doc(firebase, \"passes\", passid), {\n          leftclass: rightnow,\n          timeleftclass: leavetimeGlobal.toLocaleTimeString([], {\n            hour12: true\n          }),\n          whenlimitwillbereached: expected,\n          placeinline: null,\n          passdetailrightnow: rightnow,\n          passdetailcurrentdate: currentdate,\n          passdetailrealtimeleave: realtimeleave\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }), yield updateDoc(doc(firebase, \"users\", id), {\n          exclusivephonepassused: currentsessionid,\n          exclusivephonepassexpiration: expected,\n          status: \"On Pass\"\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }), yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n          inuseexclusivephonepass: phonehowmanypeople + 1,\n          totalinlineforexclusivephone: phonetakenameoffwaitlist - 1,\n          removescanneraddbutton: false\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }).then(_asyncToGenerator(function* () {\n          setExpectedreturn(expected);\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted(true);\n        }));\n      } else {\n        null;\n      }\n    });\n    return _makephonepass.apply(this, arguments);\n  }\n  function returnfinalizehallpass() {\n    return _returnfinalizehallpass.apply(this, arguments);\n  }\n  function _returnfinalizehallpass() {\n    _returnfinalizehallpass = _asyncToGenerator(function* () {\n      setGiveshortcut(false);\n      console.log(howmanypeople2, \"howmanypeople2\", endofclasssession, \"endofclasssession\", locationdestination, \"locationdestination\", expectedreturn, \"expectedreturn\", ontime, \"ontime\", passid, \"passid\", id, \"id\", classid, \"classid\");\n      if (Date.now() > endofclasssession) {\n        var t = endofclasssession;\n        var r = new Date(t);\n        console.log(\"1 was this run?,\", t, r, \"endofclasssession\", \"newDate\");\n        if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\n          var _updateDoc;\n          console.log(\"first if then\");\n          var currentdiff = (expectedreturn - t) / 60000;\n          var percentsss = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + currentdiff,\n            adjustments: adjust,\n            level: levell\n          };\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n            differenceoverorunderinminutes: currentdiff\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc = {}, _defineProperty(_updateDoc, classid, percentsss), _defineProperty(_updateDoc, \"passid\", \"\"), _defineProperty(_updateDoc, \"status\", \"\"), _updateDoc)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: 0,\n            removescanneraddbutton: false\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        } else if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\n          var _updateDoc2;\n          console.log(\"second if then\");\n          var _currentdiff = (expectedreturn - t) / 60000;\n          var _percentsss = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + _currentdiff,\n            adjustments: adjust,\n            level: levell\n          };\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: _currentdiff === 0 || _currentdiff > 0,\n            differenceoverorunderinminutes: _currentdiff\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc2 = {}, _defineProperty(_updateDoc2, classid, _percentsss), _defineProperty(_updateDoc2, \"passid\", \"\"), _defineProperty(_updateDoc2, \"status\", \"\"), _updateDoc2)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: howmanypeople2 - 1,\n            removescanneraddbutton: false\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        } else {\n          var _updateDoc3;\n          var _currentdiff2 = (expectedreturn - t) / 60000;\n          var _percentsss2 = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + _currentdiff2,\n            adjustments: adjust,\n            level: levell\n          };\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: _currentdiff2 === 0 || _currentdiff2 > 0,\n            differenceoverorunderinminutes: _currentdiff2\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc3 = {}, _defineProperty(_updateDoc3, classid, _percentsss2), _defineProperty(_updateDoc3, \"passid\", \"\"), _defineProperty(_updateDoc3, \"status\", \"\"), _updateDoc3)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        }\n      } else {\n        var r = new Date();\n        var t = Date.now();\n        console.log(\"2 was this run?,\", t, r, \"endofclasssession\", \"newDate\");\n        if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\n          var _updateDoc4;\n          var _currentdiff3 = (expectedreturn - t) / 60000;\n          var _percentsss3 = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + _currentdiff3,\n            adjustments: adjust,\n            level: levell\n          };\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: _currentdiff3 === 0 || _currentdiff3 > 0,\n            differenceoverorunderinminutes: _currentdiff3\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc4 = {}, _defineProperty(_updateDoc4, classid, _percentsss3), _defineProperty(_updateDoc4, \"passid\", \"\"), _defineProperty(_updateDoc4, \"status\", \"\"), _updateDoc4)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: howmanypeople2 - 1,\n            removescanneraddbutton: false\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        } else if (locationdestination == \"Bathroom\" && howmanypeople2 < 1) {\n          var _updateDoc5;\n          var _currentdiff4 = (expectedreturn - t) / 60000;\n          var _percentsss4 = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + _currentdiff4,\n            adjustments: adjust,\n            level: levell\n          };\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: _currentdiff4 === 0 || _currentdiff4 > 0,\n            differenceoverorunderinminutes: _currentdiff4\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc5 = {}, _defineProperty(_updateDoc5, classid, _percentsss4), _defineProperty(_updateDoc5, \"passid\", \"\"), _defineProperty(_updateDoc5, \"status\", \"\"), _updateDoc5)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: 0,\n            removescanneraddbutton: false\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        } else {\n          var _updateDoc6;\n          console.log(\"37was this run?,\", text, scanned, ontime, expectedreturn, \"text, scanned,  ontime, expectedreturn,\");\n          var _currentdiff5 = (expectedreturn - t) / 60000;\n          var _percentsss5 = {\n            id: classid,\n            penaltyminutes: penaltyminutes,\n            overunder: overunderr + _currentdiff5,\n            adjustments: adjust,\n            level: levell\n          };\n          yield updateDoc(doc(firebase, \"passes\", passid), {\n            returned: t,\n            timereturned: r.toLocaleTimeString([], {\n              hour12: true\n            }),\n            returnedbeforetimelimit: _currentdiff5 === 0 || _currentdiff5 > 0,\n            differenceoverorunderinminutes: _currentdiff5\n          }).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc6 = {}, _defineProperty(_updateDoc6, classid, _percentsss5), _defineProperty(_updateDoc6, \"passid\", \"\"), _defineProperty(_updateDoc6, \"status\", \"\"), _updateDoc6)).catch(function (error) {\n            console.log(error);\n            alert(error);\n          }).then(_asyncToGenerator(function* () {\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          }));\n        }\n      }\n    });\n    return _returnfinalizehallpass.apply(this, arguments);\n  }\n  function returnmakephonepass() {\n    return _returnmakephonepass.apply(this, arguments);\n  }\n  function _returnmakephonepass() {\n    _returnmakephonepass = _asyncToGenerator(function* () {\n      setGiveshortcut(false);\n      console.log(\"return phone pass ran\");\n      if (Date.now() > endofclasssession) {\n        var _updateDoc7;\n        var t = endofclasssession;\n        var r = new Date(t);\n        var currentdiff = (expectedreturn - t) / 60000;\n        var percentsss = {\n          id: classid,\n          penaltyminutes: penaltyminutes,\n          overunder: overunderr + currentdiff,\n          adjustments: adjust,\n          level: levell\n        };\n        yield updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], {\n            hour12: true\n          }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: (expectedreturn - t) / 60000\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc7 = {}, _defineProperty(_updateDoc7, classid, percentsss), _defineProperty(_updateDoc7, \"passid\", \"\"), _defineProperty(_updateDoc7, \"status\", \"\"), _updateDoc7)).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n        yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n          inuseexclusivephonepass: phonehowmanypeople2 - 1,\n          removescanneraddbutton: false\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }).then(_asyncToGenerator(function* () {\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted2(true);\n        }));\n      } else {\n        var _updateDoc8;\n        var r = new Date();\n        var t = Date.now();\n        var _currentdiff6 = (expectedreturn - t) / 60000;\n        var _percentsss6 = {\n          id: classid,\n          penaltyminutes: penaltyminutes,\n          overunder: overunderr + _currentdiff6,\n          adjustments: adjust,\n          level: levell\n        };\n        yield updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], {\n            hour12: true\n          }),\n          returnedbeforetimelimit: _currentdiff6 === 0 || _currentdiff6 > 0,\n          differenceoverorunderinminutes: (expectedreturn - t) / 60000\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }), yield updateDoc(doc(firebase, \"users\", id), (_updateDoc8 = {}, _defineProperty(_updateDoc8, classid, _percentsss6), _defineProperty(_updateDoc8, \"passid\", \"\"), _defineProperty(_updateDoc8, \"status\", \"\"), _updateDoc8)).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n        yield updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n          inuseexclusivephonepass: phonehowmanypeople2 - 1,\n          removescanneraddbutton: false\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        }).then(_asyncToGenerator(function* () {\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted2(true);\n        }));\n      }\n    });\n    return _returnmakephonepass.apply(this, arguments);\n  }\n  useEffect(function () {\n    console.log(day, \"is currentdateeend undefined?\");\n    if (typeof day === \"undefined\" && typeof currentdate != \"undefined\") {\n      console.log(\"teacherid and text\", teacherid, text, \"teacherid and texti\");\n      if (text == teacherid && scanned) {\n        console.log(\"Play SOund Happened\");\n        if (locationdestination == \"Break From Work Pass \") {\n          makephonepass();\n        } else {\n          finalizehallpass();\n        }\n      }\n      if (teacherid != text && scanned) {\n        setText('Not yet scanned');\n        setScanned(false);\n        alert(teacherid);\n      }\n    }\n  }, [currentdate]);\n\n  useEffect(function () {\n    var getBarCodeScannerPermissions = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var _yield$BarCodeScanner = yield BarCodeScanner.requestPermissionsAsync(),\n          status = _yield$BarCodeScanner.status;\n        setHasPermission(status === 'granted');\n      });\n      return function getBarCodeScannerPermissions() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    getBarCodeScannerPermissions();\n  }, []);\n  var askPermissions = function askPermissions() {\n    _asyncToGenerator(function* () {\n      console.log(\"Asking for permissions\", hasPermission);\n      var _yield$BarCodeScanner2 = yield BarCodeScanner.requestPermissionsAsync(),\n        status = _yield$BarCodeScanner2.status;\n      setHasPermission(status == \"granted\");\n    })();\n  };\n\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref4) {\n    var type = _ref4.type,\n      data = _ref4.data;\n    console.log(\"1AM I HERE\");\n    var r = new Date();\n    var s = Date.now();\n    setRightnow(s);\n    setLeavetimeGlobal(r);\n    setLeftclass(s);\n    setScanned(true);\n    setText(data);\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(ScrollView, {\n      children: giveshortcut === true && typeof day === \"undefined\" ? _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(View, {\n          style: styles.barcodebox2,\n          children: _jsx(View, {\n            children: _jsx(Pressable, {\n              onPress: function onPress() {\n                return developmentshortcut();\n              },\n              children: _jsxs(Text, {\n                style: styles.maintext11,\n                children: [\"Get\", '\\n', \"Pass!\"]\n              })\n            })\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return askPermissions();\n          },\n          children: _jsx(Text, {\n            style: styles.maintext,\n            children: \"Get Camera\"\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return checkDatabaseData();\n          },\n          children: _jsxs(Text, {\n            style: styles.maintext,\n            children: [\"Press on\", '\\n', \"Shortcut Above\"]\n          })\n        }), _jsx(Pressable, {\n          children: _jsxs(Text, {\n            style: styles.maintext,\n            children: [\"passid:\", passid, '\\n', \"canusebutton: \", giveshortcut ? \"true\" : \"false\", '\\n', \"hasPermission: \", hasPermission ? \"true\" : \"false\", '\\n', \"It Read: \", text, '\\n', \"It expects: \", teacheridforreturn, '\\n', scanned ? \"it scanned\" : \"it DID NOT scan\"]\n          })\n        })]\n      }) : giveshortcut === true && typeof day != \"undefined\" ? _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(View, {\n          style: styles.barcodebox2,\n          children: _jsx(View, {\n            children: _jsx(Pressable, {\n              onPress: function onPress() {\n                return developmentshortcut();\n              },\n              children: _jsxs(Text, {\n                style: styles.maintext11,\n                children: [\"Return\", '\\n', \"Pass!\"]\n              })\n            })\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return askPermissions();\n          },\n          children: _jsx(Text, {\n            style: styles.maintext,\n            children: \"Get Camera\"\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return checkDatabaseData();\n          },\n          children: _jsxs(Text, {\n            style: styles.maintext,\n            children: [\"Press on\", '\\n', \"Shortcut Above\"]\n          })\n        }), _jsx(Pressable, {\n          children: _jsxs(Text, {\n            style: styles.maintext,\n            children: [\"passid:\", passid, '\\n', \"canusebutton: \", giveshortcut ? \"true\" : \"false\", '\\n', \"hasPermission: \", hasPermission ? \"true\" : \"false\", '\\n', \"It Read: \", text, '\\n', \"It expects: \", teacheridforreturn, '\\n', scanned ? \"it scanned\" : \"it DID NOT scan\"]\n          })\n        })]\n      }) : _jsxs(View, {\n        style: styles.container,\n        children: [_jsxs(View, {\n          style: styles.barcodebox,\n          children: [_jsx(BarCodeScanner, {\n            onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n            style: {\n              height: 300,\n              width: 350\n            }\n          }), scanned && _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setScanned(false);\n            },\n            children: _jsx(Text, {})\n          })]\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return askPermissions();\n          },\n          children: _jsx(Text, {\n            style: styles.maintext,\n            children: \"Get Camera\"\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return checkDatabaseData();\n          },\n          children: _jsxs(Text, {\n            style: styles.maintext,\n            children: [\"After Asking Teacher For Help\", '\\n', \"Press Here for Shortcut.\"]\n          })\n        })]\n      })\n    })\n  });\n};\nexport default Scanner;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#222',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  maintext: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#fff\",\n    textAlign: \"center\"\n  },\n  maintextred: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#ff0000\",\n    textAlign: \"center\"\n  },\n  maintext1: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#ff0000\"\n  },\n  maintext11: {\n    fontSize: 46,\n    margin: 20,\n    color: \"#ff0000\",\n    textAlign: \"center\"\n  },\n  barcodebox: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 400,\n    width: 300,\n    overflow: 'hidden',\n    borderRadius: 30,\n    backgroundColor: '#E43522',\n    marginTop: 50\n  },\n  barcodebox2: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 400,\n    width: 300,\n    overflow: 'hidden',\n    borderRadius: 30,\n    backgroundColor: '#FFF',\n    marginTop: 50\n  },\n  error5: {\n    backgroundColor: '#000',\n    color: \"#FFF\",\n    marginLeft: \"3%\",\n    marginRight: \"3%\",\n    fontSize: 17,\n    fontWeight: 'bold',\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","BarCodeScanner","Audio","auth","firebase","collection","addDoc","query","where","getDocs","deleteDoc","doc","setDoc","getDoc","updateDoc","arrayUnion","FieldValue","Pass","createUserWithEmailAndPassword","sqrt","Scanner","route","navigation","params","userinformation","teacherid","coursename","classid","teacher","Selectedclassdestination","youcangetpass","section","currentlocation","school","state","town","locationdestination","firstname","lastname","ledby","drinkofwater","exclusivetime","donewithworkpass","currentsessionid","bathroomtime","nonbathroomtime","bathroompassinuse","totalinlineforbathroom","id","passid","teacheridforreturn","maxstudentsonphonepass","newlocation","timeallowed","adjustmentandoverunder","total2","getcurrentdifference","day","leftclass2","expectedreturn2","endofclasssession","currentdateend","leavetimeGlobal","setLeavetimeGlobal","returntimeGlobal","setReturntimeGlobal","sound","setSound","eligible","setEligible","hasPermission","setHasPermission","scanned","setScanned","text","setText","leftclass","setLeftclass","expectedreturn","setExpectedreturn","howmanypeople","setHowmanypeople","howmanypeople2","setHowmanypeople2","takenameoffwaitlist","setTakenameoffwaitlist","phonehowmanypeople","setPhonehowmanypeople","phonehowmanypeople2","setPhonehowmanypeople2","phonetakenameoffwaitlist","setPhonetakenameoffwaitlist","rightnow","setRightnow","ontime","setOntime","adjust","setAdjust","levell","setLevell","overunderr","setOverunderr","penaltyminutes","setPenaltyminutes","allottedtime","setAllottedtime","realtimeleave","setRealtimeleave","currentdate","setCurrentdate","completed","setCompleted","completed2","setCompleted2","currenttime","setCurrenttiime","giveshortcut","setGiveshortcut","console","log","Date","now","getadjustment","checkDatabaseData2","docRef","docData","then","docSnap","idd","object","data","whatever","adjustments","ovunder","overunder","level","exists","inusebathroompass","inuseexclusivephonepass","returnmakephonepass","Alert","returnfinalizehallpass","formatAMPM","hours","getHours","minutes","getMinutes","ampm","toString","padStart","strTime","p","getMonth","getDate","getFullYear","setOptions","headerLeft","navigate","styles","error5","error","checkDatabaseData","totalinlineforexclusivephone","removescanneraddbutton","developmentshortcut","r","s","unloadAsync","undefined","playSound","Sound","createAsync","require","playAsync","finalizehallpass","expected","timeleftclass","toLocaleTimeString","hour12","whenlimitwillbereached","placeinline","passdetailrightnow","passdetailcurrentdate","passdetailrealtimeleave","catch","alert","status","makephonepass","exclusivephonepassused","exclusivephonepassexpiration","t","currentdiff","percentsss","returned","timereturned","returnedbeforetimelimit","differenceoverorunderinminutes","getBarCodeScannerPermissions","requestPermissionsAsync","askPermissions","handleBarCodeScanned","type","container","barcodebox2","maintext11","maintext","barcodebox","height","width","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","fontSize","margin","color","textAlign","maintextred","maintext1","overflow","borderRadius","marginTop","marginLeft","marginRight","fontWeight"],"sources":["/Users/matt/Desktop/hallpasstesting/Navigation/Components/Scanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ScrollView, Text, View, StyleSheet, Button, TouchableOpacity, Pressable } from 'react-native';\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { Audio } from 'expo-av';\nimport { auth, firebase } from \"../Firebase/Config\";\n\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc, getDoc, updateDoc, arrayUnion, FieldValue } from \"@firebase/firestore\";\n\nimport Pass from \"./Pass\";\nimport { createUserWithEmailAndPassword } from '@firebase/auth';\nimport { sqrt } from 'react-native-reanimated';\n\n// import { useNavigation } from '@react-navigation/native';\n\nconst Scanner = ({ route, navigation }) => {\n\n  const { userinformation, teacherid, coursename, classid, teacher, Selectedclassdestination, youcangetpass, section, currentlocation, school, state, town, locationdestination, firstname, lastname, ledby, drinkofwater, exclusivetime, donewithworkpass, currentsessionid, bathroomtime, nonbathroomtime, bathroompassinuse, totalinlineforbathroom, id, passid, teacheridforreturn, maxstudentsonphonepass, newlocation, timeallowed, adjustmentandoverunder, total2, getcurrentdifference, day, leftclass2, expectedreturn2, endofclasssession, currentdateend } = route.params;\n\n  //'day' confirms that persoan has already visited pass and is coming back to zap out\n\n  const [leavetimeGlobal, setLeavetimeGlobal] = useState();\n  const [returntimeGlobal, setReturntimeGlobal] = useState(\"\");\n\n  const [sound, setSound] = React.useState();\n  const [eligible, setEligible] = React.useState(true);\n  const [hasPermission, setHasPermission] = useState(null);\n  const [scanned, setScanned] = useState(false);\n  const [text, setText] = useState('Not yet scanned');\n\n  const [leftclass, setLeftclass] = useState();\n  const [expectedreturn, setExpectedreturn] = useState();\n\n  const [howmanypeople, setHowmanypeople] = useState();\n  const [howmanypeople2, setHowmanypeople2] = useState();\n  const [takenameoffwaitlist, setTakenameoffwaitlist] = useState();\n\n  const [phonehowmanypeople, setPhonehowmanypeople] = useState();\n  const [phonehowmanypeople2, setPhonehowmanypeople2] = useState();\n  const [phonetakenameoffwaitlist, setPhonetakenameoffwaitlist] = useState();\n  const [rightnow, setRightnow] = useState();\n\n  const [ontime, setOntime] = useState();\n\n  const [adjust, setAdjust] = useState();\n  const [levell, setLevell] = useState();\n  const [overunderr, setOverunderr] = useState();\n\n  const [penaltyminutes, setPenaltyminutes] = useState();\n\n  const [allottedtime, setAllottedtime] = useState();\n  const [realtimeleave, setRealtimeleave] = useState();\n  const [currentdate, setCurrentdate] = useState();\n  const [completed, setCompleted] = useState();\n  const [completed2, setCompleted2] = useState();\n  const [currenttime, setCurrenttiime] = useState();\n  const [giveshortcut, setGiveshortcut] = useState();\n\n  console.log(teacherid, teacheridforreturn, \"teacherid\", \"teacheridforreturn\", \"In Scanner\");\n\n  useEffect(() => {\n\n    if (id && classid && typeof day != \"undefined\") {\n      setCurrenttiime(Date.now())\n      getadjustment();\n      checkDatabaseData2();\n      setExpectedreturn(expectedreturn2);\n    }\n  }, [day, expectedreturn2]);\n\n  useEffect(() => {\n    console.log(\"14Did it get this far? \");\n    setText(\"Not yet scanned\");\n    setScanned(false);\n  }, [day]);\n\n  const getadjustment = () => {\n\n    console.log(\"5Did it get this far? \");\n\n    if (id && classid) {\n      console.log(\"6Did it get this far? \");\n      const docRef = doc(firebase, \"users\", id);\n\n      const docData = getDoc(docRef)\n\n        .then((docSnap) => {\n          let idd = classid;\n          let object = docSnap.data();\n\n          if (typeof object[idd] != \"undefined\") {\n\n          const whatever = object[idd].adjustments;\n          const penaltyminutes = object[idd].penaltyminutes;\n          const ovunder = object[idd].overunder;\n          const level = object[idd].level;\n\n          setAdjust(whatever);\n          setPenaltyminutes(penaltyminutes);\n          setOverunderr(ovunder);\n          setLevell(level);\n\n          } else {\n            setAdjust(0);\n            setPenaltyminutes(0);\n            setOverunderr(0);\n            setLevell(\"Consequences For Lateness\");\n          }\n\n\n        })\n    }\n  };\n\n  async function checkDatabaseData2() {\n    console.log(\"12Did it get this far? \");\n\n    const docRef = doc(firebase, \"classesbeingtaught\", classid);\n\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      setHowmanypeople2(docSnap.data().inusebathroompass)\n      setPhonehowmanypeople2(docSnap.data().inuseexclusivephonepass)\n\n    } else {\n      // doc.data() will be undefined in this case\n\n    }\n\n  };\n\n\n\n  useEffect(() => {\n    console.log(expectedreturn, \"expectedreturn\", currenttime, \"currenttime\", \"10Did it get this far? \");\n    if (expectedreturn > 10) {\n      console.log(\"10Did it get this far? \");\n      if (currenttime < expectedreturn) {\n\n        console.log(\"22this was run\");\n        setOntime(true);\n      } else {\n        console.log(\"23this was run\");\n        setOntime(false);\n      }\n    }\n\n  }, [currenttime]);\n\n\n\n\n  useEffect(() => {\n    console.log(currentdate, \"currentdate\");\n    if (typeof currentdate != \"undefined\" && locationdestination == \"Break From Work Pass\") {\n\n      if (text == teacheridforreturn && scanned) {\n        returnmakephonepass();\n      } else {\n        setText('Not yet scanned')\n        setScanned(false);\n        Alert(\"You have scanned the wrong @RCode1\");\n      }\n\n    } else if (typeof currentdate != \"undefined\" && locationdestination != \"Break From Work Pass\") {\n      if (text == teacheridforreturn && scanned) {\n        returnfinalizehallpass();\n      } else {\n        setText('Not yet scanned')\n        setScanned(false);\n        Alert(\"You have scanned the wrong @RCode2\");\n      }\n\n    } else {\n\n      if (leavetimeGlobal) {\n        console.log(\"1was this run?\", text, scanned, ontime, \"expectedreturn2, ontime, text, scanned,\")\n        // const newtime = leavetimeGlobal.toLocaleTimeString();\n\n        const formatAMPM = () => {\n          let hours = leavetimeGlobal.getHours();\n          let minutes = leavetimeGlobal.getMinutes();\n          let ampm = hours >= 12 ? 'pm' : 'am';\n          hours = hours % 12;\n          hours = hours ? hours : 12;\n          minutes = minutes.toString().padStart(2, '0');\n          let strTime = hours + ':' + minutes + ' ' + ampm;\n          return strTime;\n        }\n\n        const p = formatAMPM(leavetimeGlobal);\n\n        setRealtimeleave(p);\n        setCurrentdate((leavetimeGlobal.getMonth() + 1) + \"/\" + leavetimeGlobal.getDate() + \"/\" + leavetimeGlobal.getFullYear());\n      }\n    }\n  }, [leavetimeGlobal]);\n\n\n  useEffect(() => {\n    navigation.setOptions({\n      headerLeft: () => (\n        <Pressable onPress={() =>\n          navigation.navigate(\"Passisready\", {\n            userinformation: userinformation, teacherid: teacherid, coursename: coursename, classid: classid, teacher: teacher, Selectedclassdestination: Selectedclassdestination, youcangetpass: youcangetpass, section: section, currentlocation: currentlocation, school: school, state: state, town: town, locationdestination: locationdestination, firstname: firstname, lastname: lastname, ledby: ledby, drinkofwater: drinkofwater, exclusivetime: exclusivetime, donewithworkpass: donewithworkpass, bathroomtime: bathroomtime, currentsessionid: currentsessionid, bathroomtime: bathroomtime, nonbathroomtime: nonbathroomtime, bathroompassinuse: bathroompassinuse, totalinlineforbathroom: totalinlineforbathroom, id: id, passid: passid, teacheridforreturn: teacheridforreturn, maxstudentsonphonepass: maxstudentsonphonepass, newlocation: newlocation, timeallowed: timeallowed, adjustmentandoverunder: adjustmentandoverunder, total2: total2, getcurrentdifference: getcurrentdifference, endofclasssession: endofclasssession,\n          })}\n        >\n\n          <Text accessibilityLabel=\"Guest\" style={styles.error5}>\n            Instructions\n          </Text>\n        </Pressable>\n      ),\n    });\n  }, []);\n\n\n  useEffect(() => {\n    console.log(\"2was this run?\", text, scanned, ontime, \"expectedreturn2, ontime, text, scanned,\")\n\n    if (locationdestination == \"Bathroom\") {\n      setAllottedtime(bathroomtime);\n    } else if (locationdestination == \"Get Drink of Water\") {\n      setAllottedtime(drinkofwater);\n    } else {\n      setAllottedtime(nonbathroomtime);\n    }\n  }, []);\n\n  useEffect(() => {\n\n    navigation.setOptions({\n      headerLeft: () => (\n        <Pressable>\n          <Text accessibilityLabel=\"Guest\" style={styles.error}>\n          </Text>\n        </Pressable>\n      ),\n    });\n  }, []);\n\n\n  useEffect(() => {\n    if (typeof classid != \"undefined\") {\n      checkDatabaseData();\n    }\n  }, []);\n\n  useEffect(() => {\n\n    console.log(completed, \"completed\", day, \"day\");\n\n    if (typeof completed != \"undefined\" && typeof day == \"undefined\") {\n\n      navigation.navigate(\"Pass\", {\n        teacherid: teacherid, coursename: coursename, classid: classid, teacher: teacher, Selectedclassdestination: Selectedclassdestination, youcangetpass: youcangetpass, section: section, currentlocation: currentlocation, school: school, state: state, town: town, locationdestination: locationdestination, firstname: firstname, lastname: lastname, teacherid: teacherid, coursename: coursename, Selectedclassdestination: Selectedclassdestination, ledby: ledby, drinkofwater: drinkofwater, exclusivetime: exclusivetime, donewithworkpass: donewithworkpass, bathroomtime: bathroomtime, nonbathroomtime: nonbathroomtime, bathroompassinuse: bathroompassinuse,\n        currentsessionid: currentsessionid, id: id, passid: passid, teacheridforreturn: teacheridforreturn, leftclass: leftclass, expectedreturn: expectedreturn, maxstudentsonphonepass: maxstudentsonphonepass, newlocation: newlocation, timeallowed: timeallowed, adjustmentandoverunder: adjustmentandoverunder, total2: total2, getcurrentdifference: getcurrentdifference, rightnow: rightnow, currentdate: currentdate, realtimeleave: realtimeleave, endofclasssession: endofclasssession,\n      });\n\n    } else if (typeof completed2 != \"undefined\" && typeof day != \"undefined\") {\n      navigation.navigate(\"Mainmenustudent\", {\n        teacherid: teacherid, coursename: coursename, classid: classid, teacher: teacher, Selectedclassdestination: Selectedclassdestination, youcangetpass: youcangetpass, section: section, currentlocation: currentlocation, school: school, state: state, town: town, locationdestination: locationdestination, firstname: firstname, lastname: lastname, teacherid: teacherid, coursename: coursename, Selectedclassdestination: Selectedclassdestination, ledby: ledby, drinkofwater: drinkofwater, exclusivetime: exclusivetime, donewithworkpass: donewithworkpass, bathroomtime: bathroomtime, nonbathroomtime: nonbathroomtime, bathroompassinuse: bathroompassinuse,\n        currentsessionid: currentsessionid, id: id, passid: passid, teacheridforreturn: teacheridforreturn, leftclass: leftclass, expectedreturn: expectedreturn, maxstudentsonphonepass: maxstudentsonphonepass, newlocation: newlocation, timeallowed: timeallowed, adjustmentandoverunder: adjustmentandoverunder, total2: total2, getcurrentdifference: getcurrentdifference, rightnow: rightnow, currentdate: currentdate, realtimeleave: realtimeleave, day: day\n      });\n    } else {\n      console.log(\"nowhere to go\")\n    }\n  }, [completed, completed2]);\n\n\n\n  async function checkDatabaseData() {\n    console.log(\"5was this run?\")\n\n    const docRef = doc(firebase, \"classesbeingtaught\", classid);\n\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      setHowmanypeople(docSnap.data().inusebathroompass);\n      setPhonehowmanypeople(docSnap.data().inuseexclusivephonepass);\n\n      setTakenameoffwaitlist(docSnap.data().totalinlineforbathroom);\n      setPhonetakenameoffwaitlist(docSnap.data().totalinlineforexclusivephone);\n      setGiveshortcut(docSnap.data().removescanneraddbutton);\n    \n\n    } else {\n      // doc.data() will be undefined in this case\n      console.log(\"No such document!\");\n    }\n\n  }\n\n  // const navigation = useNavigation();\n\n  //shortcut() to be used in development\n\n  const developmentshortcut = () => {\n    console.log(teacherid, \"teacherid this should be the same as the text\");\n\n    var r = new Date();\n    var s = Date.now();\n\n    setRightnow(s);\n    setLeavetimeGlobal(r);\n    setLeftclass(s);\n\n    setScanned(true);\n\n    if (typeof day != \"undefined\") {\n      setText(teacheridforreturn);\n    } else {\n      setText(teacherid);\n    }\n  }\n\n  useEffect(() => {\n    return sound\n      ? () => {\n\n        sound.unloadAsync();\n      }\n      : undefined;\n  }, [sound]);\n\n\n  async function playSound() {\n    const { sound } = await Audio.Sound.createAsync(\n      require('../../assets/Confirm.mp3')\n    );\n    setSound(sound);\n\n    await sound.playAsync();\n  }\n\n  async function finalizehallpass() {\n    setGiveshortcut(false);\n\n    console.log(\"hallpass ran ?\");\n\n    const expected = (rightnow + (allottedtime * 60000))\n\n    if (classid && passid &&\n      locationdestination == \"Bathroom\") {\n\n      await updateDoc(doc(firebase, \"passes\", passid), {\n\n        leftclass: rightnow,\n        timeleftclass: leavetimeGlobal.toLocaleTimeString([], { hour12: true }),\n        whenlimitwillbereached: expected,\n        placeinline: null,\n        passdetailrightnow: rightnow, passdetailcurrentdate: currentdate, passdetailrealtimeleave: realtimeleave\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      });\n\n      await updateDoc(doc(firebase, \"users\", id), {\n        status: \"On Pass\",\n      }).catch((error) => {\n        console.log(error); alert(error);\n      });\n\n      await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n        inusebathroompass: howmanypeople + 1,\n        totalinlineforbathroom: takenameoffwaitlist - 1,\n        removescanneraddbutton: false\n\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      })\n        .then(async () => {\n\n          setExpectedreturn((rightnow + (allottedtime * 60000)));\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted(true);\n        })\n    }\n    else if (classid && passid &&\n      locationdestination != \"Bathroom\") {\n\n      await updateDoc(doc(firebase, \"passes\", passid), {\n        leftclass: rightnow,\n        timeleftclass: leavetimeGlobal.toLocaleTimeString([], { hour12: true }),\n        whenlimitwillbereached: expected,\n        placeinline: null,\n        passdetailrightnow: rightnow, passdetailcurrentdate: currentdate, passdetailrealtimeleave: realtimeleave\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      });\n\n      await updateDoc(doc(firebase, \"users\", id), {\n        status: \"On Pass\",\n      }).catch((error) => {\n        console.log(error); alert(error);\n      })\n\n        .then(async () => {\n\n          setExpectedreturn(expected);\n          setHasPermission(null);\n          setText(\"Not yet scanned\");\n          setScanned(false);\n          setCompleted(true);\n        })\n    } else {\n\n      setExpectedreturn(expected);\n      setHasPermission(null);\n      setText(\"Not yet scanned\");\n      setScanned(false);\n      setCompleted(true);\n\n    }\n  }\n\n\n  async function makephonepass() {\n\n    setGiveshortcut(false);\n\n    console.log(\"phone pass ran\")\n\n    const expected = (rightnow + (exclusivetime * 60000));\n\n    if (classid && passid) {\n\n      await updateDoc(doc(firebase, \"passes\", passid), {\n\n        leftclass: rightnow,\n        timeleftclass: leavetimeGlobal.toLocaleTimeString([], { hour12: true }),\n        whenlimitwillbereached: expected,\n        placeinline: null,\n        passdetailrightnow: rightnow, passdetailcurrentdate: currentdate, passdetailrealtimeleave: realtimeleave\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      }),\n\n        await updateDoc(doc(firebase, \"users\", id), {\n\n          exclusivephonepassused: currentsessionid,\n          exclusivephonepassexpiration: expected,\n          status: \"On Pass\",\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n        await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n          inuseexclusivephonepass: phonehowmanypeople + 1,\n          totalinlineforexclusivephone: phonetakenameoffwaitlist - 1,\n          removescanneraddbutton: false\n        }).catch((error) => {\n          console.log(error); alert(error);\n        })\n          .then(async () => {\n\n            setExpectedreturn(expected);\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted(true);\n          })\n    }\n    else {\n      null\n    }\n  }\n\n  async function returnfinalizehallpass() {\n\n    setGiveshortcut(false);\n\n    console.log(howmanypeople2, \"howmanypeople2\", endofclasssession, \"endofclasssession\", locationdestination, \"locationdestination\", expectedreturn, \"expectedreturn\", ontime, \"ontime\", passid, \"passid\", id, \"id\", classid, \"classid\");\n\n    if (Date.now() > endofclasssession) {\n\n      var t = endofclasssession;\n      var r = new Date(t);\n\n      console.log(\"1 was this run?,\", t, r, \"endofclasssession\", \"newDate\")\n\n      if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\n        console.log(\"first if then\");\n\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }),\n\n          await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: 0,\n            removescanneraddbutton: false\n          }).catch((error) => {\n            console.log(error); alert(error);\n\n          }).then(async () => {\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          })\n\n\n      } else if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\nconsole.log(\"second if then\");\n\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }),\n\n          await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: howmanypeople2 - 1,\n            removescanneraddbutton: false\n          }).catch((error) => {\n            console.log(error); alert(error);\n\n          }).then(async () => {\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          })\n\n\n      } else {\n\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }).then(async () => {\n\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          })\n\n      }\n    }\n    else {\n\n      var r = new Date();\n      var t = Date.now();\n\n      console.log(\"2 was this run?,\", t, r, \"endofclasssession\", \"newDate\")\n\n      if (locationdestination == \"Bathroom\" && howmanypeople2 > 0) {\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }),\n\n          await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: howmanypeople2 - 1,\n            removescanneraddbutton: false,\n          }).catch((error) => {\n            console.log(error); alert(error);\n\n          }).then(async () => {\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n\n          })\n\n      } else if (locationdestination == \"Bathroom\" && howmanypeople2 < 1) {\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }),\n\n          await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n            inusebathroompass: 0,\n            removescanneraddbutton: false\n          }).catch((error) => {\n            console.log(error); alert(error);\n\n          }).then(async () => {\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n\n          })\n\n      } \n      else {\n        console.log(\"37was this run?,\", text, scanned, ontime, expectedreturn, \"text, scanned,  ontime, expectedreturn,\")\n\n        const currentdiff = ((expectedreturn - t) / 60000);\n\n        const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n        await updateDoc(doc(firebase, \"passes\", passid), {\n          returned: t,\n          timereturned: r.toLocaleTimeString([], { hour12: true }),\n          returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n          differenceoverorunderinminutes: currentdiff,\n\n        }).catch((error) => {\n          console.log(error); alert(error);\n        }),\n\n\n          await updateDoc(doc(firebase, \"users\", id), {\n            [classid]: percentsss,\n            passid: \"\",\n            status: \"\",\n\n          }).catch((error) => {\n            console.log(error); alert(error);\n          }).then(async () => {\n\n\n            setHasPermission(null);\n            setText(\"Not yet scanned\");\n            setScanned(false);\n            setCompleted2(true);\n          })\n\n\n      }\n    }\n  }\n\n\n  async function returnmakephonepass() {\n\n    setGiveshortcut(false);\n\n    console.log(\"return phone pass ran\");\n\n    if (Date.now() > endofclasssession) {\n\n      var t = endofclasssession;\n      var r = new Date(t);\n\n      const currentdiff = ((expectedreturn - t) / 60000);\n\n      const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n      await updateDoc(doc(firebase, \"passes\", passid), {\n        returned: t,\n        timereturned: r.toLocaleTimeString([], { hour12: true }),\n        returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n        differenceoverorunderinminutes: (expectedreturn - t) / 60000,\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      }),\n\n        await updateDoc(doc(firebase, \"users\", id), {\n          [classid]: percentsss,\n          passid: \"\",\n          status: \"\",\n        }).catch((error) => {\n          console.log(error); alert(error);\n        });\n\n\n      await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n        inuseexclusivephonepass: phonehowmanypeople2 - 1,\n        removescanneraddbutton: false\n      }).catch((error) => {\n        console.log(error); alert(error);\n\n      }).then(async () => {\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n        setCompleted2(true);\n      })\n\n    } else {\n\n      var r = new Date();\n      var t = Date.now();\n\n      const currentdiff = ((expectedreturn - t) / 60000);\n\n      const percentsss = { id: classid, penaltyminutes: penaltyminutes, overunder: overunderr + currentdiff, adjustments: adjust, level: levell };\n\n      await updateDoc(doc(firebase, \"passes\", passid), {\n        returned: t,\n        timereturned: r.toLocaleTimeString([], { hour12: true }),\n        returnedbeforetimelimit: currentdiff === 0 || currentdiff > 0,\n        differenceoverorunderinminutes: (expectedreturn - t) / 60000,\n\n      }).catch((error) => {\n        console.log(error); alert(error);\n      }),\n\n        await updateDoc(doc(firebase, \"users\", id), {\n          [classid]: percentsss,\n          passid: \"\",\n          status: \"\",\n        }).catch((error) => {\n          console.log(error); alert(error);\n        });\n\n\n      await updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n        inuseexclusivephonepass: phonehowmanypeople2 - 1,\n        removescanneraddbutton: false\n      }).catch((error) => {\n        console.log(error); alert(error);\n\n      }).then(async () => {\n\n        setHasPermission(null);\n        setText(\"Not yet scanned\");\n        setScanned(false);\n        setCompleted2(true);\n      })\n    }\n  }\n\n\n  useEffect(() => {\n    console.log(day, \"is currentdateeend undefined?\");\n    if (typeof day === \"undefined\" && typeof currentdate != \"undefined\") {\n      console.log(\"teacherid and text\", teacherid, text, \"teacherid and texti\");\n      if (text == teacherid && scanned) {\n        console.log(\"Play SOund Happened\");\n   \n        if (locationdestination == \"Break From Work Pass \") {\n          makephonepass();\n        } else {\n          finalizehallpass();\n        }\n\n      }\n      if (teacherid != text && scanned) {\n\n        setText('Not yet scanned');\n        setScanned(false);\n        alert(teacherid)\n      }\n    }\n  }, [currentdate]);\n\n  // Request Camera Permission\n\n\n\n\n\n\n\n\n\n  useEffect(() => {\n    const getBarCodeScannerPermissions = async () => {\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\n      setHasPermission(status === 'granted');\n    };\n\n    getBarCodeScannerPermissions();\n  }, []);\n\n  const askPermissions = () => {\n    (async () => {\n      console.log(\"Asking for permissions\", hasPermission);\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\n      setHasPermission(status == \"granted\");\n    })();\n  };\n\n  // What happens when we scan the bar code\n  const handleBarCodeScanned = ({ type, data }) => {\n\n    console.log(\"1AM I HERE\");\n\n    var r = new Date();\n    var s = Date.now();\n\n    setRightnow(s);\n    setLeavetimeGlobal(r);\n    setLeftclass(s);\n\n    setScanned(true);\n    setText(data);\n  };\n\n  return (\n    <View style={styles.container}>\n    <ScrollView>\n    {giveshortcut === true && typeof day === \"undefined\" ? <View style={styles.container}>\n\n<View style={styles.barcodebox2}><View><Pressable\n        onPress={() => developmentshortcut()}><Text style={styles.maintext11}>Get{'\\n'}Pass!</Text></Pressable></View>\n      </View>\n      \n      <Pressable onPress={() => askPermissions()}><Text style={styles.maintext}>Get Camera</Text></Pressable>\n\n      <Pressable onPress={() => checkDatabaseData()}><Text style={styles.maintext}>Press on{'\\n'}Shortcut Above</Text></Pressable>\n\n<Pressable>\n      <Text style={styles.maintext}>passid:{passid}{'\\n'}canusebutton: {giveshortcut ? \"true\" : \"false\"}{'\\n'}hasPermission: {hasPermission ? \"true\" : \"false\"}{'\\n'}It Read: {text}{'\\n'}It expects: {teacheridforreturn}{'\\n'}{scanned ? \"it scanned\" : \"it DID NOT scan\"}</Text></Pressable>\n   \n    </View> : giveshortcut === true && typeof day != \"undefined\" ? <View style={styles.container}>\n\n<View style={styles.barcodebox2}><View><Pressable\n        onPress={() => developmentshortcut()}><Text style={styles.maintext11}>Return{'\\n'}Pass!</Text></Pressable></View>\n      </View>\n      \n      <Pressable onPress={() => askPermissions()}><Text style={styles.maintext}>Get Camera</Text></Pressable>\n\n      <Pressable onPress={() => checkDatabaseData()}><Text style={styles.maintext}>Press on{'\\n'}Shortcut Above</Text></Pressable>\n\n<Pressable>\n      <Text style={styles.maintext}>passid:{passid}{'\\n'}canusebutton: {giveshortcut ? \"true\" : \"false\"}{'\\n'}hasPermission: {hasPermission ? \"true\" : \"false\"}{'\\n'}It Read: {text}{'\\n'}It expects: {teacheridforreturn}{'\\n'}{scanned ? \"it scanned\" : \"it DID NOT scan\"}</Text></Pressable>\n   \n    </View> :\n\n\n<View style={styles.container}>\n\n<View style={styles.barcodebox}>\n        <BarCodeScanner\n          onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\n          style={{ height: 300, width: 350 }} />\n        {scanned && <TouchableOpacity onPress={() => setScanned(false)}><Text></Text></TouchableOpacity>}\n\n      </View>\n      \n      <Pressable onPress={() => askPermissions()}><Text style={styles.maintext}>Get Camera</Text></Pressable>\n      <Pressable onPress={() => checkDatabaseData()}><Text style={styles.maintext}>After Asking Teacher For Help{'\\n'}Press Here for Shortcut.</Text></Pressable>\n\n   \n    </View>}\n\n\n    </ScrollView>\n    </View>\n   \n  );\n}\n\nexport default Scanner;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#222',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  maintext: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#fff\",\n    textAlign: \"center\"\n  },\n  maintextred: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#ff0000\",\n    textAlign: \"center\"\n  },\n  maintext1: {\n    fontSize: 16,\n    margin: 20,\n    color: \"#ff0000\"\n  },\n  maintext11: {\n    fontSize: 46,\n    margin: 20,\n    color: \"#ff0000\",\n    textAlign: \"center\"\n  },\n  barcodebox: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 400,\n    width: 300,\n    overflow: 'hidden',\n    borderRadius: 30,\n    backgroundColor: '#E43522',\n    marginTop:50,\n  },\n\n  barcodebox2: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 400,\n    width: 300,\n    overflow: 'hidden',\n    borderRadius: 30,\n    backgroundColor: '#FFF',\n    marginTop:50,\n  },\n  error5: {\n\n    backgroundColor: '#000',\n    color: \"#FFF\",\n    marginLeft: \"3%\",\n    marginRight: \"3%\",\n    fontSize: 17,\n    fontWeight: 'bold',\n    textAlign: \"center\",\n  },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}