{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Output from \"./Output\";\nimport { auth, firebase } from \"../../Firebase/Config\";\nimport { createUserWithEmailAndPassword, sendEmailVerification } from \"@firebase/auth\";\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc } from \"@firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ResultsContainer = function ResultsContainer(_ref) {\n  var textsearched = _ref.textsearched,\n    posts = _ref.posts,\n    email = _ref.email,\n    username = _ref.username,\n    school = _ref.school,\n    setschool = _ref.setschool,\n    setSearching = _ref.setSearching,\n    searching = _ref.searching,\n    number = _ref.number,\n    setNumber = _ref.setNumber,\n    onlyadmin = _ref.onlyadmin,\n    setOnlyadmin = _ref.setOnlyadmin;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    getproperty = _useState2[0],\n    setGetproperty = _useState2[1];\n  useEffect(function () {\n    newarray = [];\n    for (var i = 0; i < posts.length; i++) {\n      newarray.push(posts[i].school);\n    }\n    console.log(\"HERE IS THE NEW ARRAY\", newarray);\n    setGetproperty(newarray);\n  }, [posts]);\n  useEffect(function () {\n    var a = getproperty;\n    function count_duplicate(a) {\n      var counts = {};\n      var array = [];\n      for (var i = 0; i < a.length; i++) {\n        if (counts[a[i]]) {\n          counts[a[i]] += 1;\n        } else {\n          array.push(a[i]);\n          counts[a[i]] = 1;\n        }\n      }\n      console.log(\"YOO\", array.length, array, \"YOO\");\n      setOnlyadmin(array);\n    }\n    count_duplicate(a);\n  }, [getproperty]);\n  var occurrence = function occurrence(posts, school) {\n    console.log(\"Hi\", posts.length);\n    var postss = [];\n    for (var i in posts) {\n      var match = false;\n      var postt = posts[i];\n      for (var prop in postt) {\n        var lower = JSON.stringify(postt[prop]).toLowerCase();\n        if (lower.match(school.toString().toLowerCase(), 1)) {\n          match = true;\n        }\n      }\n      if (match === true) {\n        postss.push(postt);\n      }\n    }\n    setNumber(postss.length);\n  };\n  useEffect(function () {\n    occurrence(posts, school);\n  }, [school]);\n  return onlyadmin.length > 0 && onlyadmin.map(function (info, value) {\n    return _jsx(View, {\n      children: searching ? _jsx(View, {\n        style: styles.container,\n        children: _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            setSearching(false);\n            setschool(info);\n          },\n          children: _jsx(Output, {\n            school: info,\n            number: number\n          })\n        })\n      }, value) : _jsx(View, {})\n    }, value);\n  });\n};\nexport default ResultsContainer;\nvar styles = StyleSheet.create({\n  container: {\n    height: 30,\n    backgroundColor: \"#000\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Output","auth","firebase","createUserWithEmailAndPassword","sendEmailVerification","collection","addDoc","query","where","getDocs","deleteDoc","doc","setDoc","ResultsContainer","textsearched","posts","email","username","school","setschool","setSearching","searching","number","setNumber","onlyadmin","setOnlyadmin","getproperty","setGetproperty","newarray","i","length","push","console","log","a","count_duplicate","counts","array","occurrence","postss","match","postt","prop","lower","JSON","stringify","toLowerCase","toString","map","info","value","styles","container","StyleSheet","create","height","backgroundColor","alignItems"],"sources":["/Users/matt/Desktop/hallpasstesting/Navigation/Components/Subcomponents/ResultsContainer.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { ScrollView, StyleSheet, View, TouchableOpacity } from \"react-native\";\nimport Output from \"./Output\";\n\nimport { auth, firebase } from \"../../Firebase/Config\";\nimport { createUserWithEmailAndPassword, sendEmailVerification } from \"@firebase/auth\";\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc } from \"@firebase/firestore\";\n\nconst ResultsContainer = ({ textsearched, posts, email, username, school, setschool, setSearching, searching, number, setNumber, onlyadmin, setOnlyadmin }) => {\n  const [getproperty, setGetproperty] = useState([]);\n\n  useEffect(() => {\n    newarray = [];\n    for (let i = 0; i < posts.length; i++) {\n      newarray.push(posts[i].school)\n    }\n    console.log(\"HERE IS THE NEW ARRAY\", newarray);\n    setGetproperty(newarray);\n  }, [posts]);\n\n\n  useEffect(() => {\n\n    const a = getproperty;\n\n    function count_duplicate(a) {\n      let counts = {};\n      let array = [];\n\n      for (let i = 0; i < a.length; i++) {\n        if (counts[a[i]]) {\n          counts[a[i]] += 1\n        } else {\n          array.push(a[i]);\n          counts[a[i]] = 1\n        }\n      }\n      console.log(\"YOO\", array.length, array, \"YOO\");\n      setOnlyadmin(array);\n    }\n    count_duplicate(a)\n  }, [getproperty])\n\n\n  var occurrence = function (posts, school) {\n    console.log(\"Hi\", posts.length)\n    let postss = [];\n    for (let i in posts) {\n      let match = false;\n      let postt = posts[i];\n\n      for (let prop in postt) {\n\n        let lower = JSON.stringify(postt[prop]).toLowerCase();\n        if (lower.match(school.toString().toLowerCase(), 1)) {\n          match = true;\n        }\n      }\n      if (match === true) {\n\n        postss.push(postt)\n\n      }\n    }\n    setNumber(postss.length)\n\n  };\n\n\n\n  useEffect(() => {\n    occurrence(posts, school)\n  }, [school])\n\n  return (\n\n    onlyadmin.length > 0 &&\n    onlyadmin.map((info, value) => (\n      <View key={value}>\n        {searching ?\n          <View style={styles.container} key={value}>\n            <TouchableOpacity onPress={\n              () => { setSearching(false); setschool(info);}}>\n              <Output\n                school={info}\n                number={number}\n              />\n            </TouchableOpacity>\n          </View>\n\n          : <View></View>}\n      </View>\n    ))\n\n  )\n};\n\nexport default ResultsContainer;\nconst styles = StyleSheet.create({\n  container: {\n    height: 30,\n    backgroundColor: \"#000\",\n    alignItems: \"center\",\n   \n  },\n\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}