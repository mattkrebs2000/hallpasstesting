{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Lineforbathroom from \"./LineBathroomTeacher/Lineforbathroomteacher\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { auth, firebase } from \"../Firebase/Config\";\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, sendEmailVerification } from \"@firebase/auth\";\nimport { onSnapshot, orderBy, getFirestore, collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc, getDoc, updateDoc, FieldValue, arrayUnion } from \"@firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar height = Dimensions.get(\"window\").height;\nexport default function SignUp(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    userdata = _useState2[0],\n    setUserdata = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userdata2 = _useState4[0],\n    setUserdata2 = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedclass = _useState6[0],\n    setSelectedclass = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    idselected = _useState8[0],\n    setIdselected = _useState8[1];\n  var _useState9 = useState(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    passid = _useState10[0],\n    setPassid = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    placeinline = _useState12[0],\n    setPlaceinline = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    docdeleted = _useState14[0],\n    setDocdeleted = _useState14[1];\n  var _useState15 = useState(\"\"),\n    _useState16 = _slicedToArray(_useState15, 2),\n    studentid = _useState16[0],\n    setStudentid = _useState16[1];\n  var _useState17 = useState(),\n    _useState18 = _slicedToArray(_useState17, 2),\n    totalinline = _useState18[0],\n    setTotalinline = _useState18[1];\n\n  var _useState19 = useState(true),\n    _useState20 = _slicedToArray(_useState19, 2),\n    showspinner = _useState20[0],\n    setShowspinner = _useState20[1];\n  var _useState21 = useState(),\n    _useState22 = _slicedToArray(_useState21, 2),\n    currentmax = _useState22[0],\n    setCurrentmax = _useState22[1];\n  var _useState23 = useState(),\n    _useState24 = _slicedToArray(_useState23, 2),\n    showingline = _useState24[0],\n    setShowingline = _useState24[1];\n  var _route$params = route.params,\n    idofcurrentclass = _route$params.idofcurrentclass,\n    currentsessionid = _route$params.currentsessionid,\n    endlastclass = _route$params.endlastclass,\n    userinformation = _route$params.userinformation,\n    school = _route$params.school,\n    state = _route$params.state,\n    town = _route$params.town,\n    role = _route$params.role,\n    id = _route$params.id,\n    bathroompasslimit = _route$params.bathroompasslimit,\n    ifnegativeplusminus = _route$params.ifnegativeplusminus,\n    nonbathroompasslimit = _route$params.nonbathroompasslimit,\n    exclusivephonepassmaxstudents = _route$params.exclusivephonepassmaxstudents,\n    drinkpasslimit = _route$params.drinkpasslimit,\n    exclusivephonepasstimelmit = _route$params.exclusivephonepasstimelmit,\n    lengthofclass = _route$params.lengthofclass,\n    classiscurrent = _route$params.classiscurrent,\n    nameofcurrentclass = _route$params.nameofcurrentclass,\n    starttimeofcurrentclass = _route$params.starttimeofcurrentclass,\n    classid = _route$params.classid,\n    coursename = _route$params.coursename,\n    section = _route$params.section,\n    location = _route$params.location,\n    teacherid = _route$params.teacherid,\n    teacheriscalled = _route$params.teacheriscalled,\n    email = _route$params.email,\n    starttime = _route$params.starttime,\n    lengthofclassesforacomputer = _route$params.lengthofclassesforacomputer,\n    inpenalty = _route$params.inpenalty,\n    stoptimepenalty = _route$params.stoptimepenalty,\n    starttimepenalty = _route$params.starttimepenalty,\n    totaltimepenalty = _route$params.totaltimepenalty,\n    alreadyused = _route$params.alreadyused,\n    teacher = _route$params.teacher,\n    Selectedclassdestination = _route$params.Selectedclassdestination,\n    youcangetpass = _route$params.youcangetpass,\n    currentlocation = _route$params.currentlocation,\n    locationdestination = _route$params.locationdestination,\n    firstname = _route$params.firstname,\n    lastname = _route$params.lastname,\n    ledby = _route$params.ledby,\n    grouptime = _route$params.grouptime,\n    drinkofwater = _route$params.drinkofwater,\n    exclusivetime = _route$params.exclusivetime,\n    donewithworkpass = _route$params.donewithworkpass,\n    bathroomtime = _route$params.bathroomtime,\n    nonbathroomtime = _route$params.nonbathroomtime,\n    bathroompassinuse = _route$params.bathroompassinuse,\n    totalinlineforbathroom = _route$params.totalinlineforbathroom,\n    lengthofclasses = _route$params.lengthofclasses,\n    endlastclasssubstitute = _route$params.endlastclasssubstitute,\n    sessionended = _route$params.sessionended,\n    thelastid = _route$params.thelastid,\n    phonepassduration = _route$params.phonepassduration,\n    overunder = _route$params.overunder,\n    drinkpassduration = _route$params.drinkpassduration,\n    bathroompassduration = _route$params.bathroompassduration,\n    otherpassduration = _route$params.otherpassduration,\n    maxstudentsphonepass = _route$params.maxstudentsphonepass,\n    donewithworkphonepass = _route$params.donewithworkphonepass,\n    consequenceid = _route$params.consequenceid,\n    sessionending = _route$params.sessionending,\n    maxstudentsbathroom = _route$params.maxstudentsbathroom,\n    linkedclass = _route$params.linkedclass;\n\n  useEffect(function () {\n    setShowingline(true);\n  }, []);\n  useEffect(function () {\n    if (showingline === true) {\n      getlocationsqrcodes();\n    } else {\n      getthoseinthebathroom();\n    }\n  }, [showingline]);\n  useEffect(function () {\n    var studentidd = selectedclass.id;\n    var pass = selectedclass.id;\n    setStudentid(studentidd);\n    setPassid(pass);\n    getlocationsqrcodes();\n  }, [selectedclass]);\n  function getthoseinthebathroom() {\n    return _getthoseinthebathroom.apply(this, arguments);\n  }\n  function _getthoseinthebathroom() {\n    _getthoseinthebathroom = _asyncToGenerator(function* () {\n      console.log(\"FUNCTION 2 Run\");\n      var q = query(collection(firebase, \"passes\"), where(\"classsessionid\", \"==\", currentsessionid), where(\"destination\", \"==\", \"Bathroom\"), where(\"leftclass\", \">\", 0), where(\"returned\", \"==\", 0));\n      var querySnapshot = yield getDocs(q).then(function (snapshot) {\n        var array = [];\n        snapshot.forEach(function (doc) {\n          array.push(doc.data());\n        });\n        setUserdata2(array);\n      });\n      console.log(\"DID the people in the Bathroom show up, DID the people in the Bathroom show up\");\n      setShowspinner(false);\n    });\n    return _getthoseinthebathroom.apply(this, arguments);\n  }\n  var letthenextstudentgo = function letthenextstudentgo() {\n    console.log(currentmax);\n    setCurrentmax(currentmax + 1);\n  };\n  var reducemaxbathroom = function reducemaxbathroom() {\n    if (currentmax > 1) {\n      setCurrentmax(currentmax - 1);\n    }\n  };\n  useEffect(function () {\n    if (currentmax > -2) {\n      updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n        bathroompassmaxstudents: currentmax\n      }).catch(function (error) {\n        console.log(error);\n        alert(error);\n      });\n    } else {\n      null;\n    }\n  }, [currentmax]);\n  useEffect(function () {\n    setCurrentmax(maxstudentsbathroom);\n  }, []);\n  useEffect(function () {\n    console.log(currentmax, \"This si the currentmax\");\n  }, [currentmax]);\n  var leaveline = function leaveline() {\n    if (passid) {\n      setShowspinner(true);\n      console.log(passid, \"This is the PassID\");\n      try {\n        var userDoc = doc(firebase, \"passes\", passid);\n        deleteDoc(userDoc);\n      } catch (error) {\n        alert(error);\n      }\n      setTimeout(function () {\n        setDocdeleted(true);\n        setShowspinner(false);\n      }, 2000);\n    }\n  };\n  useEffect(function () {\n    return onSnapshot(doc(firebase, \"classesbeingtaught\", classid), function (doc) {\n      if (doc.data().inusebathroompass <= doc.data().bathroompassmaxstudents) {\n        getlocationsqrcodes();\n        getthoseinthebathroom();\n      }\n    });\n  }, []);\n  useEffect(function () {\n    setShowspinner(true);\n    if (id.length > 3) {\n      getlocationsqrcodes();\n      getthoseinthebathroom();\n    }\n  }, []);\n  useEffect(function () {\n    if (typeof totalinline != \"undefined\" && typeof classid != \"undefined\") {\n      makechange();\n    }\n  }, [totalinline, passid]);\n  useEffect(function () {\n    if (typeof userdata != \"undefined\") {\n      setTotalinline(userdata.length);\n    }\n  }, [userdata]);\n  var makechange = function makechange() {\n    console.log(\"Is this the last thing to get run?\");\n    updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n      totalinlineforbathroom: totalinline\n    }).catch(function (error) {\n      console.log(error);\n      alert(error);\n    });\n  };\n  useEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft() {\n        return _jsx(TouchableOpacity, {\n          children: _jsx(Text, {\n            accessibilityLabel: \"Guest\",\n            style: styles.error\n          })\n        });\n      }\n    });\n  }, []);\n  function getlocationsqrcodes() {\n    return _getlocationsqrcodes.apply(this, arguments);\n  }\n  function _getlocationsqrcodes() {\n    _getlocationsqrcodes = _asyncToGenerator(function* () {\n      var q = query(collection(firebase, \"passes\"), where(\"classsessionid\", \"==\", currentsessionid), where(\"timeleftclass\", \"==\", 0), orderBy(\"placeinline\", \"asc\"));\n      var querySnapshot = yield getDocs(q).then(function (snapshot) {\n        var array = [];\n        snapshot.forEach(function (doc) {\n          array.push(doc.data());\n        });\n        setUserdata(array);\n      });\n      setShowspinner(false);\n    });\n    return _getlocationsqrcodes.apply(this, arguments);\n  }\n  ;\n  return _jsxs(SafeAreaView, {\n    style: styles.largercontainer,\n    children: [_jsx(View, {\n      style: styles.container1,\n      children: showingline ? _jsx(View, {\n        children: _jsxs(Text, {\n          style: styles.error,\n          onPress: function onPress() {\n            return setShowingline(false);\n          },\n          children: [\"Max Allowed: \", currentmax, '\\n', \"Line for the Bathroom\", '\\n', \"-Show those In Bathroom-\"]\n        })\n      }) : _jsx(View, {\n        children: _jsxs(Text, {\n          style: styles.error,\n          onPress: function onPress() {\n            return setShowingline(true);\n          },\n          children: [\"Students in Bathroom\", '\\n', \"-Show Line for Bathroom-\"]\n        })\n      })\n    }), _jsx(View, {\n      style: styles.container2,\n      children: _jsx(Lineforbathroom, {\n        userdata: userdata,\n        id: id,\n        setSelectedclass: setSelectedclass,\n        selectedclass: selectedclass,\n        idselected: idselected,\n        firstname: firstname,\n        studentid: studentid,\n        lastname: lastname,\n        showingline: showingline,\n        userdata2: userdata2\n      })\n    }), _jsx(ScrollView, {\n      children: _jsxs(View, {\n        style: styles.section3,\n        children: [_jsx(View, {\n          children: _jsx(ActivityIndicator, {\n            size: \"large\",\n            color: \"#FFF\",\n            animating: showspinner,\n            style: {\n              position: 'absolute',\n              alignItems: 'center',\n              justifyContent: 'center',\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0\n            }\n          })\n        }), _jsx(Pressable, {\n          children: _jsxs(Text, {\n            style: styles.paragraph24,\n            onPress: function onPress() {\n              return letthenextstudentgo();\n            },\n            children: [\"Increase Total Number of\", '\\n', \"Students Allowed in Bathroom\", '\\n']\n          })\n        }), currentmax > 1 ? _jsx(Pressable, {\n          onPress: function onPress() {\n            return reducemaxbathroom();\n          },\n          children: _jsxs(Text, {\n            style: styles.paragraph24,\n            children: [\"Decrease Total Number of\", '\\n', \"Students Allowed in Bathroom\", '\\n']\n          })\n        }) : null, showingline ? _jsx(View, {\n          children: _jsx(Pressable, {\n            onPress: function onPress() {\n              return leaveline();\n            },\n            children: _jsx(Text, {\n              style: styles.paragraph24,\n              children: \"Remove Student from Line\"\n            })\n          })\n        }) : _jsx(View, {\n          children: _jsx(Text, {\n            style: styles.paragraph24,\n            children: \"   \"\n          })\n        }), _jsxs(Text, {\n          style: styles.paragraph24,\n          children: [\"___________________ \", '\\n']\n        }), _jsx(Text, {\n          style: styles.paragraph24,\n          onPress: function onPress() {\n            return navigation.navigate(\"Mainmenuteacher\", {\n              idofcurrentclass: idofcurrentclass,\n              currentsessionid: currentsessionid,\n              sessionending: sessionending,\n              endlastclass: endlastclass,\n              userinformation: userinformation,\n              school: school,\n              state: state,\n              town: town,\n              role: role,\n              id: id,\n              bathroompasslimit: bathroompasslimit,\n              drinkpasslimit: drinkpasslimit,\n              ifnegativeplusminus: ifnegativeplusminus,\n              nonbathroompasslimit: nonbathroompasslimit,\n              exclusivephonepassmaxstudents: exclusivephonepassmaxstudents,\n              exclusivephonepasstimelmit: exclusivephonepasstimelmit,\n              lengthofclass: lengthofclass,\n              classiscurrent: classiscurrent,\n              nameofcurrentclass: nameofcurrentclass,\n              starttimeofcurrentclass: starttimeofcurrentclass,\n              classid: classid,\n              coursename: coursename,\n              section: section,\n              location: location,\n              teacherid: teacherid,\n              teacheriscalled: teacheriscalled,\n              email: email,\n              starttime: starttime,\n              lengthofclassesforacomputer: lengthofclassesforacomputer,\n              inpenalty: inpenalty,\n              stoptimepenalty: stoptimepenalty,\n              starttimepenalty: starttimepenalty,\n              totaltimepenalty: totaltimepenalty,\n              alreadyused: alreadyused,\n              teacher: teacher,\n              Selectedclassdestination: Selectedclassdestination,\n              youcangetpass: youcangetpass,\n              currentlocation: currentlocation,\n              locationdestination: locationdestination,\n              firstname: firstname,\n              lastname: lastname,\n              ledby: ledby,\n              grouptime: grouptime,\n              drinkofwater: drinkofwater,\n              exclusivetime: exclusivetime,\n              donewithworkpass: donewithworkpass,\n              bathroomtime: bathroomtime,\n              nonbathroomtime: nonbathroomtime,\n              bathroompassinuse: bathroompassinuse,\n              totalinlineforbathroom: totalinlineforbathroom,\n              lengthofclasses: lengthofclasses,\n              endlastclasssubstitute: endlastclasssubstitute,\n              sessionended: sessionended,\n              thelastid: thelastid,\n              phonepassduration: phonepassduration,\n              bathroompassduration: bathroompassduration,\n              drinkpassduration: drinkpassduration,\n              otherpassduration: otherpassduration,\n              maxstudentsphonepass: maxstudentsphonepass,\n              donewithworkphonepass: donewithworkphonepass,\n              consequenceid: consequenceid,\n              currentsessionid: currentsessionid,\n              sessionending: sessionending,\n              maxstudentsbathroom: maxstudentsbathroom,\n              linkedclass: linkedclass\n            });\n          },\n          children: \"Return to Main Menu \"\n        }), _jsx(Text, {\n          children: '\\n'\n        }), _jsx(Text, {\n          children: '\\n'\n        }), _jsx(Text, {\n          children: '\\n'\n        }), _jsx(Text, {\n          children: '\\n'\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#000\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  largercontainer: {\n    height: height,\n    backgroundColor: \"#000\"\n  },\n  container1: {\n    height: \"15%\",\n    backgroundColor: '#000',\n    width: \"100%\",\n    justifyContent: \"center\"\n  },\n  error: {\n    backgroundColor: '#000',\n    color: \"#FFF\",\n    marginLeft: \"3%\",\n    marginRight: \"3%\",\n    fontSize: 17,\n    fontWeight: 'bold',\n    textAlign: \"center\"\n  },\n  container2: {\n    height: \"30%\",\n    backgroundColor: \"#013469\",\n    width: \"100%\"\n  },\n  paragraph: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    backgroundColor: '#000000',\n    color: \"#fff\",\n    height: \"100%\",\n    textAlign: \"center\",\n    marginTop: \"10%\"\n  },\n  Newrow: {\n    backgroundColor: '#000000',\n    margin: 2,\n    textAlign: \"center\",\n    fontSize: 20,\n    width: \"90%\",\n    borderColor: \"#E43522\",\n    borderWidth: 4,\n    justifyContent: \"center\",\n    color: \"#fff\"\n  },\n  Newrowa: {\n    backgroundColor: '#000000',\n    margin: 4,\n    textAlign: \"center\",\n    fontSize: 20,\n    borderColor: \"#E43522\",\n    borderWidth: 4,\n    justifyContent: \"center\",\n    color: \"#fff\",\n    flex: 1\n  },\n  Newrowb: {\n    backgroundColor: '#000000',\n    margin: 4,\n    textAlign: \"center\",\n    fontSize: 20,\n    borderColor: \"#E43522\",\n    borderWidth: 4,\n    justifyContent: \"center\",\n    color: \"#fff\",\n    flex: .4\n  },\n  paragraph2: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: \"center\",\n    backgroundColor: '#000',\n    color: \"#fff\",\n    justifyContent: \"center\",\n    marginTop: 30\n  },\n  paragraph24: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    textAlign: \"center\",\n    backgroundColor: '#000',\n    color: \"#fff\",\n    justifyContent: \"center\",\n    marginTop: 30\n  },\n  paragraph4: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    backgroundColor: '#000000',\n    color: \"#fff\",\n    justifyContent: \"center\",\n    lineHeight: 30\n  },\n  section3: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    backgroundColor: \"#000\",\n    color: \"#fff\",\n    alignContent: \"center\",\n    height: \"55%\"\n  },\n  paragraph6: {\n    color: \"#fff\",\n    fontSize: 17,\n    marginRight: 7\n  },\n  textContainer: {\n    flexDirection: 'row',\n    height: 50,\n    justifyContent: 'center',\n    marginBottom: 20\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Lineforbathroom","auth","firebase","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","sendEmailVerification","onSnapshot","orderBy","getFirestore","collection","addDoc","query","where","getDocs","deleteDoc","doc","setDoc","getDoc","updateDoc","FieldValue","arrayUnion","height","Dimensions","get","SignUp","route","navigation","userdata","setUserdata","userdata2","setUserdata2","selectedclass","setSelectedclass","idselected","setIdselected","passid","setPassid","placeinline","setPlaceinline","docdeleted","setDocdeleted","studentid","setStudentid","totalinline","setTotalinline","showspinner","setShowspinner","currentmax","setCurrentmax","showingline","setShowingline","params","idofcurrentclass","currentsessionid","endlastclass","userinformation","school","state","town","role","id","bathroompasslimit","ifnegativeplusminus","nonbathroompasslimit","exclusivephonepassmaxstudents","drinkpasslimit","exclusivephonepasstimelmit","lengthofclass","classiscurrent","nameofcurrentclass","starttimeofcurrentclass","classid","coursename","section","location","teacherid","teacheriscalled","email","starttime","lengthofclassesforacomputer","inpenalty","stoptimepenalty","starttimepenalty","totaltimepenalty","alreadyused","teacher","Selectedclassdestination","youcangetpass","currentlocation","locationdestination","firstname","lastname","ledby","grouptime","drinkofwater","exclusivetime","donewithworkpass","bathroomtime","nonbathroomtime","bathroompassinuse","totalinlineforbathroom","lengthofclasses","endlastclasssubstitute","sessionended","thelastid","phonepassduration","overunder","drinkpassduration","bathroompassduration","otherpassduration","maxstudentsphonepass","donewithworkphonepass","consequenceid","sessionending","maxstudentsbathroom","linkedclass","getlocationsqrcodes","getthoseinthebathroom","studentidd","pass","console","log","q","querySnapshot","then","snapshot","array","forEach","push","data","letthenextstudentgo","reducemaxbathroom","bathroompassmaxstudents","catch","error","alert","leaveline","userDoc","setTimeout","inusebathroompass","length","makechange","setOptions","headerLeft","styles","largercontainer","container1","container2","section3","position","alignItems","justifyContent","left","right","top","bottom","paragraph24","navigate","StyleSheet","create","container","backgroundColor","width","color","marginLeft","marginRight","fontSize","fontWeight","textAlign","paragraph","marginTop","Newrow","margin","borderColor","borderWidth","Newrowa","flex","Newrowb","paragraph2","paragraph4","lineHeight","alignContent","paragraph6","textContainer","flexDirection","marginBottom"],"sources":["/Users/matt/Desktop/hallpasstesting/Navigation/Components/Lineforbathroomteacher.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Lineforbathroom from './LineBathroomTeacher/Lineforbathroomteacher'\n\nimport { SafeAreaView, Text, View, TextInput, KeyboardAvoidingView, Platform, StyleSheet, ScrollView, TouchableOpacity, Dimensions, ActivityIndicator, Pressable } from 'react-native';\n\nimport { auth, firebase } from \"../Firebase/Config\";\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, sendEmailVerification } from \"@firebase/auth\";\nimport { onSnapshot, orderBy, getFirestore, collection, addDoc, query, where, getDocs, deleteDoc, doc, setDoc, getDoc, updateDoc, FieldValue, arrayUnion } from \"@firebase/firestore\";\n\n\n\n\n\nconst height = Dimensions.get(\"window\").height;\n\nexport default function SignUp({ route, navigation }) {\n\n    const [userdata, setUserdata] = useState();\n    const [userdata2, setUserdata2] = useState();\n    const [selectedclass, setSelectedclass] = useState(\"\");\n\n    const [idselected, setIdselected] = useState(\"\");\n    const [passid, setPassid] = useState();\n    const [placeinline, setPlaceinline] = useState(0);\n    const [docdeleted, setDocdeleted] = useState(false);\n    const [studentid, setStudentid] = useState(\"\");\n    const [totalinline, setTotalinline] = useState();\n\n\n\n    //Bathroom Pass Line\n\n    const [showspinner, setShowspinner] = useState(true);\n    const [currentmax, setCurrentmax] = useState();\n    const [showingline, setShowingline] = useState();\n\n\n    const { idofcurrentclass, currentsessionid, endlastclass, userinformation, school, state, town, role, id, bathroompasslimit, ifnegativeplusminus, nonbathroompasslimit, exclusivephonepassmaxstudents, drinkpasslimit, exclusivephonepasstimelmit, lengthofclass, classiscurrent, nameofcurrentclass, starttimeofcurrentclass, classid, coursename, section, location, teacherid, teacheriscalled,\n        email, starttime, lengthofclassesforacomputer, inpenalty, stoptimepenalty, starttimepenalty, totaltimepenalty, alreadyused, teacher, Selectedclassdestination, youcangetpass, currentlocation, locationdestination, firstname, lastname, ledby, grouptime, drinkofwater, exclusivetime, donewithworkpass, bathroomtime, nonbathroomtime, bathroompassinuse, totalinlineforbathroom, lengthofclasses, endlastclasssubstitute, sessionended, thelastid, phonepassduration, overunder, drinkpassduration, bathroompassduration, otherpassduration, maxstudentsphonepass, donewithworkphonepass, consequenceid, sessionending, maxstudentsbathroom,linkedclass\n    } = route.params;\n\n\n    //realtime updates!!!\n\n\n    useEffect(() => {\n        setShowingline(true);\n\n    }, []);\n\n    useEffect(() => {\n        if (showingline === true) {\n            getlocationsqrcodes();\n        } else {\n            getthoseinthebathroom();\n        }\n\n    }, [showingline]);\n\n    useEffect(() => {\n        let studentidd = selectedclass.id;\n        let pass = selectedclass.id;\n    \n        setStudentid(studentidd);\n        setPassid(pass);\n\n        getlocationsqrcodes();\n\n    }, [selectedclass]);\n\n    async function getthoseinthebathroom() {\n        console.log(\"FUNCTION 2 Run\");\n\n        const q = query(collection(firebase, \"passes\"), where(\"classsessionid\", \"==\", currentsessionid), where(\"destination\", \"==\", \"Bathroom\"), where(\"leftclass\", \">\", 0), where(\"returned\", \"==\", 0));\n\n        const querySnapshot = await getDocs(q)\n\n            .then(function (snapshot) {\n                const array = []\n                snapshot.forEach(doc => {\n                    array.push(doc.data())\n                })\n                setUserdata2(array)\n            })\n        console.log(\"DID the people in the Bathroom show up, DID the people in the Bathroom show up\")\n\n        setShowspinner(false);\n    }\n\n    const letthenextstudentgo = () => {\n        console.log(currentmax);\n        setCurrentmax(currentmax + 1);\n    }\n\n    const reducemaxbathroom = () => {\n        if (currentmax > 1) {\n            setCurrentmax(currentmax - 1);\n        }\n    }\n\n    useEffect(() => {\n        if (currentmax > -2) {\n            updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n                bathroompassmaxstudents: currentmax\n            }).catch((error) => {\n                console.log(error); alert(error);\n            })\n        } else {\n            null\n        }\n    }, [currentmax]);\n\n    useEffect(() => {\n        setCurrentmax(maxstudentsbathroom);\n    }, []);\n\n    useEffect(() => {\n        console.log(currentmax, \"This si the currentmax\")\n    }, [currentmax]);\n\n\n    const leaveline = () => {\n       \nif (passid) {\n    setShowspinner(true);\n    console.log(passid, \"This is the PassID\")\n        try {\n            const userDoc = doc(firebase, \"passes\", passid)\n          \n            deleteDoc(userDoc)\n        } catch (error) {\n            alert(error)\n        }\n        setTimeout(() => {\n            setDocdeleted(true);\n            setShowspinner(false);\n        }, 2000);\n\n    }\n    }\n\n    useEffect(() =>\n\n        onSnapshot(doc(firebase, \"classesbeingtaught\", classid), (doc) => {\n\n            if (doc.data().inusebathroompass <= doc.data().bathroompassmaxstudents) {\n                getlocationsqrcodes(); \n                getthoseinthebathroom();\n            }\n        }\n        ), []);\n\n    useEffect(() => {\n        setShowspinner(true);\n        if (id.length > 3) {\n            getlocationsqrcodes();\n            getthoseinthebathroom();\n        }\n    }, []);\n\n    useEffect(() => {\n        if ((typeof totalinline != \"undefined\") && (typeof classid != \"undefined\")) {  \n          makechange();\n       }\n    }, [totalinline, passid]);\n\n    useEffect(() => {\n        if (typeof userdata != \"undefined\") {  \n         setTotalinline(userdata.length)\n       }\n    }, [userdata]);\n\n\n\nconst makechange = () => {\n    console.log(\"Is this the last thing to get run?\")\n\n    updateDoc(doc(firebase, \"classesbeingtaught\", classid), {\n        totalinlineforbathroom: totalinline\n    }).catch((error) => {\n        console.log(error); alert(error);\n    })\n\n}\n\n    useEffect(() => {\n\n        navigation.setOptions({\n            headerLeft: () => (\n                <TouchableOpacity >\n                    <Text accessibilityLabel=\"Guest\" style={styles.error}>\n                    </Text>\n                </TouchableOpacity>\n            ),\n        });\n    }, []);\n\n    async function getlocationsqrcodes() {\n\n\n        const q = query(collection(firebase, \"passes\"), where(\"classsessionid\", \"==\", currentsessionid), where(\"timeleftclass\", \"==\", 0), orderBy(\"placeinline\", \"asc\"));\n\n        const querySnapshot = await getDocs(q)\n\n\n            .then(function (snapshot) {\n                const array = []\n                snapshot.forEach(doc => {\n\n                    array.push(doc.data())\n                })\n                setUserdata(array)\n            })\n\n\n        setShowspinner(false);\n\n    };\n\n    return (\n        <SafeAreaView style={styles.largercontainer}>\n            <View style={styles.container1}>\n                {showingline ? <View><Text style={styles.error} onPress={() => setShowingline(false)}>Max Allowed: {currentmax}{'\\n'}Line for the Bathroom{'\\n'}-Show those In Bathroom-</Text></View> : <View><Text style={styles.error} onPress={() => setShowingline(true)}>Students in Bathroom{'\\n'}-Show Line for Bathroom-</Text></View>}\n            </View>\n\n\n            <View style={styles.container2}>\n                <Lineforbathroom userdata={userdata} id={id} setSelectedclass={setSelectedclass} selectedclass={selectedclass} idselected={idselected} firstname={firstname} studentid={studentid} lastname={lastname} showingline={showingline} userdata2={userdata2}/>\n            </View>\n\n<ScrollView>\n            <View style={styles.section3}>\n                <View><ActivityIndicator\n                    size=\"large\"\n                    color=\"#FFF\"\n                    animating={showspinner}\n                    style={{\n                        position: 'absolute',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        left: 0,\n                        right: 0,\n                        top: 0,\n                        bottom: 0,\n                    }} /></View>\n\n                <Pressable>\n                    <Text style={styles.paragraph24} onPress={() => letthenextstudentgo()}>Increase Total Number of{'\\n'}Students Allowed in Bathroom{'\\n'}</Text>\n                </Pressable>\n                {currentmax > 1 ? <Pressable onPress={() => reducemaxbathroom()}>\n                    <Text style={styles.paragraph24}>Decrease Total Number of{'\\n'}Students Allowed in Bathroom{'\\n'}</Text>\n                </Pressable> : null}\n                {showingline ? <View>\n                    <Pressable onPress={() => leaveline()}><Text style={styles.paragraph24}>Remove Student from Line</Text></Pressable>\n                </View>:<View><Text style={styles.paragraph24}>   </Text></View>}\n                <Text style={styles.paragraph24}>___________________ {'\\n'}</Text>\n\n                <Text style={styles.paragraph24} onPress={() => navigation.navigate(\"Mainmenuteacher\", {\n                    idofcurrentclass: idofcurrentclass, currentsessionid: currentsessionid, sessionending: sessionending, endlastclass: endlastclass, userinformation: userinformation, school: school, state: state, town: town, role: role, id: id, bathroompasslimit: bathroompasslimit, drinkpasslimit:drinkpasslimit, \n                    ifnegativeplusminus: ifnegativeplusminus, nonbathroompasslimit: nonbathroompasslimit, exclusivephonepassmaxstudents: exclusivephonepassmaxstudents, exclusivephonepasstimelmit: exclusivephonepasstimelmit, lengthofclass: lengthofclass, classiscurrent: classiscurrent, nameofcurrentclass: nameofcurrentclass, starttimeofcurrentclass: starttimeofcurrentclass, classid: classid, coursename: coursename, section: section, location: location, teacherid: teacherid, teacheriscalled: teacheriscalled,\n                    email: email, starttime: starttime, lengthofclassesforacomputer: lengthofclassesforacomputer, inpenalty: inpenalty, stoptimepenalty: stoptimepenalty, starttimepenalty: starttimepenalty, totaltimepenalty: totaltimepenalty, alreadyused: alreadyused, teacher: teacher, Selectedclassdestination: Selectedclassdestination, youcangetpass: youcangetpass, currentlocation: currentlocation, locationdestination: locationdestination, firstname: firstname, lastname: lastname, ledby: ledby, grouptime: grouptime, drinkofwater:drinkofwater, exclusivetime: exclusivetime, donewithworkpass: donewithworkpass, bathroomtime: bathroomtime, nonbathroomtime: nonbathroomtime, bathroompassinuse: bathroompassinuse, totalinlineforbathroom: totalinlineforbathroom, lengthofclasses: lengthofclasses, endlastclasssubstitute: endlastclasssubstitute, sessionended: sessionended, thelastid: thelastid, phonepassduration: phonepassduration, bathroompassduration: bathroompassduration,drinkpassduration:drinkpassduration, otherpassduration: otherpassduration, maxstudentsphonepass: maxstudentsphonepass, donewithworkphonepass: donewithworkphonepass, consequenceid: consequenceid, currentsessionid: currentsessionid, sessionending: sessionending, maxstudentsbathroom: maxstudentsbathroom, linkedclass:linkedclass\n\n                })} >Return to Main Menu </Text>\n                <Text>{'\\n'}</Text>\n                <Text>{'\\n'}</Text>\n                <Text>{'\\n'}</Text>\n                <Text>{'\\n'}</Text>\n\n            </View>\n            </ScrollView>\n        </SafeAreaView>\n    );\n}\n\n\nconst styles = StyleSheet.create({\n\n    container: {\n        backgroundColor: \"#000\",\n        alignItems: \"center\",\n        width: \"100%\",\n\n    },\n    largercontainer: {\n        height: height,\n        backgroundColor: \"#000\",\n\n    },\n    container1: {\n        height: \"15%\",\n        backgroundColor: '#000',\n        width: \"100%\",\n        justifyContent: \"center\",\n\n\n    },\n    error: {\n\n        backgroundColor: '#000',\n        color: \"#FFF\",\n        marginLeft: \"3%\",\n        marginRight: \"3%\",\n        fontSize: 17,\n        fontWeight: 'bold',\n        textAlign: \"center\",\n\n    },\n    container2: {\n        height: \"30%\",\n        backgroundColor: \"#013469\",\n        width: \"100%\",\n\n    },\n    paragraph: {\n        fontSize: 18,\n        fontWeight: 'bold',\n        backgroundColor: '#000000',\n        color: \"#fff\",\n        height: \"100%\",\n        textAlign: \"center\",\n        marginTop: \"10%\",\n    },\n    Newrow: {\n        backgroundColor: '#000000',\n\n        margin: 2,\n        textAlign: \"center\",\n        fontSize: 20,\n        width: \"90%\",\n        borderColor: \"#E43522\",\n        borderWidth: 4,\n        justifyContent: \"center\",\n        color: \"#fff\",\n    },\n    Newrowa: {\n        backgroundColor: '#000000',\n        margin: 4,\n        textAlign: \"center\",\n        fontSize: 20,\n        borderColor: \"#E43522\",\n        borderWidth: 4,\n        justifyContent: \"center\",\n        color: \"#fff\",\n        flex: 1,\n    },\n\n    Newrowb: {\n        backgroundColor: '#000000',\n        margin: 4,\n        textAlign: \"center\",\n        fontSize: 20,\n        borderColor: \"#E43522\",\n        borderWidth: 4,\n        justifyContent: \"center\",\n        color: \"#fff\",\n        flex: .4,\n    },\n\n    paragraph2: {\n\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: \"center\",\n        backgroundColor: '#000',\n        color: \"#fff\",\n\n        justifyContent: \"center\",\n        marginTop: 30,\n    },\n\n    paragraph24: {\n\n        fontSize: 16,\n        fontWeight: 'bold',\n        textAlign: \"center\",\n        backgroundColor: '#000',\n        color: \"#fff\",\n\n        justifyContent: \"center\",\n        marginTop: 30,\n    },\n\n    paragraph4: {\n\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n        backgroundColor: '#000000',\n        color: \"#fff\",\n        justifyContent: \"center\",\n        lineHeight: 30,\n\n    },\n    section3: {\n\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n        backgroundColor: \"#000\",\n        color: \"#fff\",\n        alignContent: \"center\",\n        height: \"55%\",\n\n    },\n\n\n    paragraph6: {\n        color: \"#fff\",\n        fontSize: 17,\n        marginRight: 7\n\n\n    },\n    textContainer: {\n        flexDirection: 'row',\n        height: 50,\n        justifyContent: 'center',\n        marginBottom: 20,\n    },\n\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}